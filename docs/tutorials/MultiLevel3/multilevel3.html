<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="W. Joel Schneider">
<meta name="dcterms.date" content="2025-02-11">
<meta name="description" content="W. Joel Schneider is a professor at Temple University.">

<title>W. Joel Schneider</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../..//images/favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-8b7f06565fe756b746b8fc89eeb347f4.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<meta property="og:title" content="W. Joel Schneider">
<meta property="og:description" content="Regression in which there are groups within groups">
<meta property="og:image" content="https://wjschne.github.io/tutorials/MultiLevel3/multilevel3_files/figure-html/ggdiagramcode-1.png">
<meta property="og:site_name" content="W. Joel Schneider">
<meta property="og:image:height" content="1536">
<meta property="og:image:width" content="1536">
</head>

<body class="floating nav-fixed slimcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">W. Joel Schneider</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">R Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../assessingpsyche.html"> 
<span class="menu-text">Assessment Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../vita.html"> 
<span class="menu-text">Vita</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../presentations.html"> 
<span class="menu-text">Presentations</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../software.html"> 
<span class="menu-text">Software</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tutorials.html"> 
<span class="menu-text">Tutorials</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="mailto:schneider@temple.edu" rel="noreferrer noopener" target="_blank"> <i class="bi bi-envelope" role="img" aria-label="Email">
</i> 
<span class="menu-text">Email</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/wjschne" rel="noreferrer noopener" target="_blank"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text">GitHub</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Multilevel Models with Three Levels</h1>
            <p class="subtitle lead">Advanced Data Analysis (EDUC 8825)</p>
                  <div>
        <div class="description">
          Regression in which there are groups within groups
        </div>
      </div>
                </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>W. Joel Schneider </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 11, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#load-packages" id="toc-load-packages" class="nav-link active" data-scroll-target="#load-packages">Load Packages</a></li>
  <li><a href="#study" id="toc-study" class="nav-link" data-scroll-target="#study">Study</a></li>
  <li><a href="#hypotheses" id="toc-hypotheses" class="nav-link" data-scroll-target="#hypotheses">Hypotheses</a></li>
  <li><a href="#complete-model-with-all-possible-effects" id="toc-complete-model-with-all-possible-effects" class="nav-link" data-scroll-target="#complete-model-with-all-possible-effects">Complete Model with all possible effects</a>
  <ul class="collapse">
  <li><a href="#level-1-equation" id="toc-level-1-equation" class="nav-link" data-scroll-target="#level-1-equation">Level 1 Equation</a></li>
  <li><a href="#level-2-equations" id="toc-level-2-equations" class="nav-link" data-scroll-target="#level-2-equations">Level 2 Equations</a></li>
  <li><a href="#level-3-equations" id="toc-level-3-equations" class="nav-link" data-scroll-target="#level-3-equations">Level 3 Equations</a></li>
  <li><a href="#combined-equation" id="toc-combined-equation" class="nav-link" data-scroll-target="#combined-equation">Combined Equation</a></li>
  <li><a href="#combined-fixed-vs.-random-effects-equation" id="toc-combined-fixed-vs.-random-effects-equation" class="nav-link" data-scroll-target="#combined-fixed-vs.-random-effects-equation">Combined Fixed vs.&nbsp;Random Effects Equation</a></li>
  </ul></li>
  <li><a href="#path-diagram" id="toc-path-diagram" class="nav-link" data-scroll-target="#path-diagram">Path Diagram</a></li>
  <li><a href="#import-data-and-transform-variables" id="toc-import-data-and-transform-variables" class="nav-link" data-scroll-target="#import-data-and-transform-variables">Import Data and Transform Variables</a></li>
  <li><a href="#null-models" id="toc-null-models" class="nav-link" data-scroll-target="#null-models">Null Models</a></li>
  <li><a href="#level-fixed-intercept-model" id="toc-level-fixed-intercept-model" class="nav-link" data-scroll-target="#level-fixed-intercept-model">1-Level Fixed Intercept Model</a></li>
  <li><a href="#level-random-intercept-model" id="toc-level-random-intercept-model" class="nav-link" data-scroll-target="#level-random-intercept-model">2-Level Random Intercept Model</a></li>
  <li><a href="#level-random-intercept-model-1" id="toc-level-random-intercept-model-1" class="nav-link" data-scroll-target="#level-random-intercept-model-1">3-Level Random Intercept Model</a>
  <ul class="collapse">
  <li><a href="#check-assumptions" id="toc-check-assumptions" class="nav-link" data-scroll-target="#check-assumptions">Check Assumptions</a></li>
  </ul></li>
  <li><a href="#fixed-effects-models" id="toc-fixed-effects-models" class="nav-link" data-scroll-target="#fixed-effects-models">Fixed-Effects Models</a>
  <ul class="collapse">
  <li><a href="#level-1-predictors" id="toc-level-1-predictors" class="nav-link" data-scroll-target="#level-1-predictors">Level 1 Predictors</a></li>
  <li><a href="#level-2-predictors" id="toc-level-2-predictors" class="nav-link" data-scroll-target="#level-2-predictors">Level 2 Predictors</a></li>
  <li><a href="#level-3-predictors" id="toc-level-3-predictors" class="nav-link" data-scroll-target="#level-3-predictors">Level 3 Predictors</a></li>
  </ul></li>
  <li><a href="#level-2-random-slopes" id="toc-level-2-random-slopes" class="nav-link" data-scroll-target="#level-2-random-slopes">Level-2 Random Slopes</a>
  <ul class="collapse">
  <li><a href="#uncorrelated-slopes-and-intercepts-at-l2" id="toc-uncorrelated-slopes-and-intercepts-at-l2" class="nav-link" data-scroll-target="#uncorrelated-slopes-and-intercepts-at-l2">Uncorrelated slopes and intercepts at L2</a></li>
  <li><a href="#correlated-slopes-and-intercepts-at-l2" id="toc-correlated-slopes-and-intercepts-at-l2" class="nav-link" data-scroll-target="#correlated-slopes-and-intercepts-at-l2">Correlated slopes and intercepts at L2</a></li>
  </ul></li>
  <li><a href="#level-3-random-slopes" id="toc-level-3-random-slopes" class="nav-link" data-scroll-target="#level-3-random-slopes">Level-3 Random Slopes</a></li>
  <li><a href="#l1l2-interaction" id="toc-l1l2-interaction" class="nav-link" data-scroll-target="#l1l2-interaction">L1–L2 Interaction</a></li>
  <li><a href="#l2l3-interaction" id="toc-l2l3-interaction" class="nav-link" data-scroll-target="#l2l3-interaction">L2–L3 Interaction</a></li>
  <li><a href="#more-hypotheses" id="toc-more-hypotheses" class="nav-link" data-scroll-target="#more-hypotheses">More Hypotheses?</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">





<section id="load-packages" class="level1">
<h1>Load Packages</h1>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load packages, installing them if needed</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lme4)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom.mixed)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(easystats)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sjPlot)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="study" class="level1">
<h1>Study</h1>
<p>We are evaluating the effects of a school-wide reading intervention in which principals helped teachers implement an innovative reading curriculum that helps students to read for pleasure at home and at school. Some principals were more engaged in this intervention than others. That is, some took this task seriously, spending many hours on it. Some did not. Some teachers likewise spend many classroom hours implementing the intervention whereas some teacher spent minimal time. Not surprisingly, some students were highly engaged in the intervention, spending many hours reading, and some were not.</p>
<p>Our outcome variable is a reading comprehension score on a standardized test. The predictor variables are principal engagement (hours per month on intervention-related activity), teaching engagement (hours per month on intervention-related activity), and student engagement (hours per week reading).</p>
</section>
<section id="hypotheses" class="level1">
<h1>Hypotheses</h1>
<ul>
<li>Principal, teacher, and student engagement all contribute to reading scores</li>
<li>The effect on reading is particularly high when teachers and students are both highly engaged. That is, the effect of student engagement is stronger with a high-engagement teacher than with a low-engagement teacher.</li>
<li>The effect on reading is also particularly high when principals and teachers are both highly engaged. That is, the effect of teacher engagement is higher when the principal is highly engaged than when the principal is not highly engaged.</li>
</ul>
</section>
<section id="complete-model-with-all-possible-effects" class="level1">
<h1>Complete Model with all possible effects</h1>
<p>The <code>lmer</code> formula in its most compact form will be:</p>
<p><code>Reading ~ S * T * P + (S | id2) + (S * T | id3)</code></p>
<p>That is not so bad, right? We have masked some of the model’s complexity by omitting the intercepts and using the <code>*</code> operator, which specifies an interaction effect along with all its lower-order terms.</p>
<p>In its least compact form, including the intercepts and all the lower-order terms specified with the <code>:</code> operator, the formula would be:</p>
<p><code>Reading ~ 1 + S + T + P + S:T + S:P + T:P + S:T:P + (1 + S | id_classroom) + (1 + S + T + S:T | id_school)</code></p>
<p>This model has</p>
<ul>
<li>Eight fixed coefficients:
<ul>
<li>1 fixed intercept: <code>1</code></li>
<li>3 fixed conditional slopes: <code>S</code>, <code>T</code>, and <code>P</code></li>
<li>3 fixed conditional two-way interactions: <code>S:T</code>, <code>S:P</code>, and <code>T:P</code></li>
<li>1 fixed three-way interaction: <code>S:T:P</code></li>
</ul></li>
<li>One L1 random effect (not shown in formula)</li>
<li>Two L2 random effects
<ul>
<li>1 random intercept: <code>(1 | id_classroom)</code></li>
<li>1 random slope: <code>(S | id_classroom)</code></li>
</ul></li>
<li>Four L3 random effects
<ul>
<li>1 random intercept: <code>(1 | id_school)</code></li>
<li>2 random conditional slopes: <code>(S | id_school)</code> and <code>(T | id_school)</code></li>
<li>1 random two-way interaction: <code>(S:T | id_school)</code></li>
</ul></li>
<li>A 2 × 2 L2 residual covariance matrix
<ul>
<li>2 variances (for <code>1</code> and <code>S</code>)</li>
<li>1 covariance of L2 intercept and slope (between <code>1</code> and <code>S</code>)</li>
</ul></li>
<li>A 4 × 4 L3 residual covariance matrix
<ul>
<li>4 variances (for <code>1</code>, <code>S</code>, <code>T</code>, and <code>S:T</code>)</li>
<li>6 covariances (among <code>1</code>, <code>S</code>, <code>T</code>, and <code>S:T</code>)</li>
</ul></li>
</ul>
<p>How realistic is this model? Not very! It allows every possible fixed and random effect. It allows for every possible interaction effect and every possible correlation among random effects. The probability is quite remote that everything matters and everything interacts with everything.</p>
<p>Not only is the model unrealistic, it is likely to have convergence problems, as well. With real data sets, the algorithms sometimes have a hard time finding the besting fitting model when many complex effects are specified. We are much better off starting with a simple model and building from there.</p>
<p>Nevertheless, let’s look at the complete model to help us understand what kinds of effects are possible.</p>
<section id="level-1-equation" class="level2">
<h2 class="anchored" data-anchor-id="level-1-equation">Level 1 Equation</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Notation Change
</div>
</div>
<div class="callout-body-container callout-body">
<p>In this tutorial, I am going to use <span class="math inline">\(b\)</span> for both fixed and random coefficients instead of the tradition of using <span class="math inline">\(\gamma\)</span> for fixed coefficients and <span class="math inline">\(\beta\)</span> for random coefficients. Any coefficient that has numbers only in its subscript is fixed (e.g., <span class="math inline">\(b_{010}\)</span>). Any coefficient that has one or more letters in its subscript is random (e.g., <span class="math inline">\(b_{0jk}\)</span>).</p>
<p>In addition, I am going to further simplify the notation for residuals and variances. All residuals will be <span class="math inline">\(e\)</span> and all variances will be <span class="math inline">\(\tau\)</span>. Their levels can be inferred from their subscripts. For example, <span class="math inline">\(\tau_1\)</span> is the variance of the level 1 residual.</p>
</div>
</div>
<p>If you can ignore the subscripts, this is a simple model in which student engagement predicts reading ability:</p>
<p><span class="math display">\[
\begin{aligned}
Reading_{ijk}&amp;=b_{0jk}+b_{1jk}S_{ijk}+e_{ijk}\\
e_{ijk}&amp;\sim\mathcal{N}(0,\tau_1)
\end{aligned}
\]</span></p>
<div class="cell">
<div class="cell-output-display">
<div id="jqaxizetwz" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#jqaxizetwz table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jqaxizetwz thead, #jqaxizetwz tbody, #jqaxizetwz tfoot, #jqaxizetwz tr, #jqaxizetwz td, #jqaxizetwz th {
  border-style: none;
}

#jqaxizetwz p {
  margin: 0;
  padding: 0;
}

#jqaxizetwz .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jqaxizetwz .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jqaxizetwz .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jqaxizetwz .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jqaxizetwz .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jqaxizetwz .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jqaxizetwz .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jqaxizetwz .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 20px;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jqaxizetwz .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 20px;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jqaxizetwz .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jqaxizetwz .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jqaxizetwz .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jqaxizetwz .gt_spanner_row {
  border-bottom-style: hidden;
}

#jqaxizetwz .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jqaxizetwz .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jqaxizetwz .gt_from_md > :first-child {
  margin-top: 0;
}

#jqaxizetwz .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jqaxizetwz .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jqaxizetwz .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jqaxizetwz .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jqaxizetwz .gt_row_group_first td {
  border-top-width: 2px;
}

#jqaxizetwz .gt_row_group_first th {
  border-top-width: 2px;
}

#jqaxizetwz .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jqaxizetwz .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jqaxizetwz .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jqaxizetwz .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jqaxizetwz .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jqaxizetwz .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jqaxizetwz .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jqaxizetwz .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jqaxizetwz .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jqaxizetwz .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jqaxizetwz .gt_footnote {
  margin: 0px;
  font-size: 16px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jqaxizetwz .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jqaxizetwz .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jqaxizetwz .gt_left {
  text-align: left;
}

#jqaxizetwz .gt_center {
  text-align: center;
}

#jqaxizetwz .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jqaxizetwz .gt_font_normal {
  font-weight: normal;
}

#jqaxizetwz .gt_font_bold {
  font-weight: bold;
}

#jqaxizetwz .gt_font_italic {
  font-style: italic;
}

#jqaxizetwz .gt_super {
  font-size: 65%;
}

#jqaxizetwz .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jqaxizetwz .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jqaxizetwz .gt_indent_1 {
  text-indent: 5px;
}

#jqaxizetwz .gt_indent_2 {
  text-indent: 10px;
}

#jqaxizetwz .gt_indent_3 {
  text-indent: 15px;
}

#jqaxizetwz .gt_indent_4 {
  text-indent: 20px;
}

#jqaxizetwz .gt_indent_5 {
  text-indent: 25px;
}

#jqaxizetwz .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#jqaxizetwz div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="a::stub">Type</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Symbol">Symbol</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Interpretation">Interpretation</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_row_group_first"><td headers="Variables stub_1_1 stub_1" rowspan="2" class="gt_row gt_left gt_stub_row_group">Variables</td>
<td headers="Variables stub_1_1 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChSZWFkaW5nX3tpamt9XCk="><span class="gt_from_md">\(Reading_{ijk}\)</span></span></td>
<td headers="Variables stub_1_1 Interpretation" class="gt_row gt_left"><span data-qmd-base64="VGhlIHJlYWRpbmcgY29tcHJlaGVuc2lvbiBzY29yZSBmb3Igc3R1ZGVudCBcKGlcKSBpbiBjbGFzc3Jvb20gXChqXCkgaW4gc2Nob29sIFwoa1wpLg=="><span class="gt_from_md">The reading comprehension score for student \(i\) in classroom \(j\) in school \(k\).</span></span></td></tr>
    <tr><td headers="Variables Symbol_2 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChTX3tpamt9XCk="><span class="gt_from_md">\(S_{ijk}\)</span></span></td>
<td headers="Variables Symbol_2 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPlN0dWRlbnQgRW5nYWdlbWVudDwvZW0+IChMMSBwcmVkaWN0b3IpLiBUaGUgbnVtYmVyIG9mIGhvdXJzIHBlciB3ZWVrIHNwZW50IHJlYWRpbmcgZm9yIHN0dWRlbnQgXChpXCkgaW4gY2xhc3Nyb29tIFwoalwpIGluIHNjaG9vbCBcKGtcKS4="><span class="gt_from_md"><em>Student Engagement</em> (L1 predictor). The number of hours per week spent reading for student \(i\) in classroom \(j\) in school \(k\).</span></span></td></tr>
    <tr class="gt_row_group_first"><td headers="Random Coefficients stub_1_3 stub_1" rowspan="2" class="gt_row gt_left gt_stub_row_group">Random Coefficients</td>
<td headers="Random Coefficients stub_1_3 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3swamt9XCk="><span class="gt_from_md">\(b_{0jk}\)</span></span></td>
<td headers="Random Coefficients stub_1_3 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkwyIHJhbmRvbSBpbnRlcmNlcHQ8L2VtPi4gSW4gdGhpcyBtb2RlbCwgXChiX3swamt9XCkgcmVmZXJzIHRvIHRoZSBwcmVkaWN0ZWQgcmVhZGluZyBzY29yZSBmb3IgYSBzdHVkZW50IGluIGNsYXNzcm9vbSBcKGpcKSBpbiBzY2hvb2wgXChrXCkgd2hvIHNwZW50IDAgaG91cnMgcGVyIHdlZWsgcmVhZGluZy4="><span class="gt_from_md"><em>L2 random intercept</em>. In this model, \(b_{0jk}\) refers to the predicted reading score for a student in classroom \(j\) in school \(k\) who spent 0 hours per week reading.</span></span></td></tr>
    <tr><td headers="Random Coefficients Symbol_4 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3sxamt9XCk="><span class="gt_from_md">\(b_{1jk}\)</span></span></td>
<td headers="Random Coefficients Symbol_4 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkwyIHJhbmRvbSBzbG9wZSBvZiBMMSBwcmVkaWN0b3I8L2VtPi4gSW4gdGhpcyBtb2RlbCwgXChiX3sxamt9XCkgcmVmZXJzIHRvIHRoZSBwcmVkaWN0ZWQgZWZmZWN0IG9mIHN0dWRlbnQgZW5nYWdlbWVudCBmb3IgYSBzdHVkZW50IGluIGNsYXNzcm9vbSBcKGpcKSBpbiBzY2hvb2wgXChrXCku"><span class="gt_from_md"><em>L2 random slope of L1 predictor</em>. In this model, \(b_{1jk}\) refers to the predicted effect of student engagement for a student in classroom \(j\) in school \(k\).</span></span></td></tr>
    <tr class="gt_row_group_first"><td headers="Residuals stub_1_5 stub_1" rowspan="1" class="gt_row gt_left gt_stub_row_group">Residuals</td>
<td headers="Residuals stub_1_5 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChlX3tpamt9XCk="><span class="gt_from_md">\(e_{ijk}\)</span></span></td>
<td headers="Residuals stub_1_5 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkwxIHJlc2lkdWFsPC9lbT4uIEluIHRoaXMgbW9kZWwsIFwoZV97aWprfVwpIHJlZmVycyB0byBob3cgbXVjaCB0aGUgcmVhZGluZyBjb21wcmVoZW5zaW9uIHNjb3JlIGZvciBzdHVkZW50IFwoaVwpIGluIGNsYXNzcm9vbSBcKGpcKSBpbiBzY2hvb2wgXChrXCkgZGlmZmVycyBmcm9tIGV4cGVjdGF0aW9ucy4="><span class="gt_from_md"><em>L1 residual</em>. In this model, \(e_{ijk}\) refers to how much the reading comprehension score for student \(i\) in classroom \(j\) in school \(k\) differs from expectations.</span></span></td></tr>
    <tr class="gt_row_group_first"><td headers="Residual Variance stub_1_6 stub_1" rowspan="1" class="gt_row gt_left gt_stub_row_group">Residual Variance</td>
<td headers="Residual Variance stub_1_6 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChcdGF1XzFcKQ=="><span class="gt_from_md">\(\tau_1\)</span></span></td>
<td headers="Residual Variance stub_1_6 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkwxIHJlc2lkdWFsIHZhcmlhbmNlPC9lbT4uIFRoZSB2YXJpYW5jZSBvZiBcKGVfe2lqa31cKQ=="><span class="gt_from_md"><em>L1 residual variance</em>. The variance of \(e_{ijk}\)</span></span></td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="level-2-equations" class="level2">
<h2 class="anchored" data-anchor-id="level-2-equations">Level 2 Equations</h2>
<p>The L2 predictor, teacher engagement <span class="math inline">\(T_{jk}\)</span>, can have an effect on the L2 random intercept <span class="math inline">\(b_{0jk}\)</span> and on the L2 random slope <span class="math inline">\(b_{1jk}\)</span>:</p>
<p><span class="math display">\[
\begin{aligned}
b_{0jk}&amp;=b_{00k} + b_{01k}T_{jk}+e_{0jk}\\
b_{1jk}&amp;=b_{10k} + b_{11k}T_{jk}+e_{1jk}\\
\boldsymbol{e_2}&amp;=\begin{bmatrix}e_{0jk}\\ e_{1jk}\end{bmatrix}\\
\boldsymbol{\tau_2}&amp;=\begin{bmatrix}\tau_{2.00} &amp; \\ \tau_{2.10} &amp; \tau_{2.11}\end{bmatrix}\\
\boldsymbol{e_2}&amp;\sim \mathcal{N}\left(\boldsymbol{0},\boldsymbol{\tau_2}\right)
\end{aligned}
\]</span></p>
<div class="cell">
<div class="cell-output-display">
<div id="jkyuocwyql" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#jkyuocwyql table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jkyuocwyql thead, #jkyuocwyql tbody, #jkyuocwyql tfoot, #jkyuocwyql tr, #jkyuocwyql td, #jkyuocwyql th {
  border-style: none;
}

#jkyuocwyql p {
  margin: 0;
  padding: 0;
}

#jkyuocwyql .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jkyuocwyql .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jkyuocwyql .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jkyuocwyql .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jkyuocwyql .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jkyuocwyql .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jkyuocwyql .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jkyuocwyql .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 20px;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jkyuocwyql .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 20px;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jkyuocwyql .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jkyuocwyql .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jkyuocwyql .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jkyuocwyql .gt_spanner_row {
  border-bottom-style: hidden;
}

#jkyuocwyql .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jkyuocwyql .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jkyuocwyql .gt_from_md > :first-child {
  margin-top: 0;
}

#jkyuocwyql .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jkyuocwyql .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jkyuocwyql .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jkyuocwyql .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jkyuocwyql .gt_row_group_first td {
  border-top-width: 2px;
}

#jkyuocwyql .gt_row_group_first th {
  border-top-width: 2px;
}

#jkyuocwyql .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jkyuocwyql .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jkyuocwyql .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jkyuocwyql .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jkyuocwyql .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jkyuocwyql .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jkyuocwyql .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jkyuocwyql .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jkyuocwyql .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jkyuocwyql .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jkyuocwyql .gt_footnote {
  margin: 0px;
  font-size: 16px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jkyuocwyql .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jkyuocwyql .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jkyuocwyql .gt_left {
  text-align: left;
}

#jkyuocwyql .gt_center {
  text-align: center;
}

#jkyuocwyql .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jkyuocwyql .gt_font_normal {
  font-weight: normal;
}

#jkyuocwyql .gt_font_bold {
  font-weight: bold;
}

#jkyuocwyql .gt_font_italic {
  font-style: italic;
}

#jkyuocwyql .gt_super {
  font-size: 65%;
}

#jkyuocwyql .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jkyuocwyql .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jkyuocwyql .gt_indent_1 {
  text-indent: 5px;
}

#jkyuocwyql .gt_indent_2 {
  text-indent: 10px;
}

#jkyuocwyql .gt_indent_3 {
  text-indent: 15px;
}

#jkyuocwyql .gt_indent_4 {
  text-indent: 20px;
}

#jkyuocwyql .gt_indent_5 {
  text-indent: 25px;
}

#jkyuocwyql .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#jkyuocwyql div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="a::stub">Type</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Symbol">Symbol</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Interpretation">Interpretation</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_row_group_first"><td headers="Variables stub_1_1 stub_1" rowspan="1" class="gt_row gt_left gt_stub_row_group">Variables</td>
<td headers="Variables stub_1_1 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChUX3tqa31cKQ=="><span class="gt_from_md">\(T_{jk}\)</span></span></td>
<td headers="Variables stub_1_1 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPlRlYWNoZXIgZW5nYWdlbWVudDwvZW0+IChMMiBwcmVkaWN0b3IpLiBOdW1iZXIgb2YgaG91cnMgdGVhY2hlciBcKGpcKSBpbiBzY2hvb2wgXChrXCkgc3BlbmQgb24gaW50ZXJ2ZW50aW9uLXJlbGF0ZWQgYWN0aXZpdGllcy4="><span class="gt_from_md"><em>Teacher engagement</em> (L2 predictor). Number of hours teacher \(j\) in school \(k\) spend on intervention-related activities.</span></span></td></tr>
    <tr class="gt_row_group_first"><td headers="Random Coefficients stub_1_2 stub_1" rowspan="6" class="gt_row gt_left gt_stub_row_group">Random Coefficients</td>
<td headers="Random Coefficients stub_1_2 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3swamt9XCk="><span class="gt_from_md">\(b_{0jk}\)</span></span></td>
<td headers="Random Coefficients stub_1_2 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkwyIHJhbmRvbSBpbnRlcmNlcHQ8L2VtPi4gSW4gdGhpcyBtb2RlbCwgXChiX3swamt9XCkgcmVmZXJzIHRvIHRoZSBwcmVkaWN0ZWQgcmVhZGluZyBzY29yZSBmb3IgYSBzdHVkZW50IGluIGNsYXNzcm9vbSBcKGpcKSBpbiBzY2hvb2wgXChrXCkgd2hvIHNwZW50IDAgaG91cnMgcGVyIHdlZWsgcmVhZGluZy4="><span class="gt_from_md"><em>L2 random intercept</em>. In this model, \(b_{0jk}\) refers to the predicted reading score for a student in classroom \(j\) in school \(k\) who spent 0 hours per week reading.</span></span></td></tr>
    <tr><td headers="Random Coefficients Symbol_3 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3sxamt9XCk="><span class="gt_from_md">\(b_{1jk}\)</span></span></td>
<td headers="Random Coefficients Symbol_3 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkwyIHJhbmRvbSBzbG9wZSBmb3IgTDEgcHJlZGljdG9yPC9lbT4uIEluIHRoaXMgbW9kZWwsIFwoYl97MWprfVwpIHJlZmVycyB0byB0aGUgcHJlZGljdGVkIGVmZmVjdCBvZiBzdHVkZW50IGVuZ2FnZW1lbnQgZm9yIGEgc3R1ZGVudCBpbiBjbGFzc3Jvb20gXChqXCkgaW4gc2Nob29sIFwoa1wpLg=="><span class="gt_from_md"><em>L2 random slope for L1 predictor</em>. In this model, \(b_{1jk}\) refers to the predicted effect of student engagement for a student in classroom \(j\) in school \(k\).</span></span></td></tr>
    <tr><td headers="Random Coefficients Symbol_4 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3swMGt9XCk="><span class="gt_from_md">\(b_{00k}\)</span></span></td>
<td headers="Random Coefficients Symbol_4 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkwzIHJhbmRvbSBpbnRlcmNlcHQ8L2VtPi4gSW4gdGhpcyBtb2RlbCwgXChiX3swMGt9XCkgcmVmZXJzIHRvIHRoZSBwcmVkaWN0ZWQgcmVhZGluZyBzY29yZSBmb3IgY2xhc3Nyb29tIFwoalwpIGluIHNjaG9vbCBcKGtcKSB3aG9zZSB0ZWFjaGVyIHNwZW50IDAgaG91cnMgcGVyIG1vbnRoIG9uIGludGVydmVudGlvbi1yZWxhdGVkIGFjdGl2aXRvZXMu"><span class="gt_from_md"><em>L3 random intercept</em>. In this model, \(b_{00k}\) refers to the predicted reading score for classroom \(j\) in school \(k\) whose teacher spent 0 hours per month on intervention-related activitoes.</span></span></td></tr>
    <tr><td headers="Random Coefficients Symbol_5 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3swMWt9XCk="><span class="gt_from_md">\(b_{01k}\)</span></span></td>
<td headers="Random Coefficients Symbol_5 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkwzIHJhbmRvbSBjb25kaXRpb25hbCBzbG9wZSBmb3IgTDIgcHJlZGljdG9yPC9lbT4uIEluIHRoaXMgbW9kZWwsIFwoYl97MDFrfVwpIHJlZmVycyB0byB0aGUgZWZmZWN0IG9mIHRlYWNoZXIgZW5nYWdlbWVudCBpbiBzY2hvb2wgXChrXCkgd2hlbiB0aGUgc3R1ZGVudCBlbmdhZ2VtZW50IGlzIDAu"><span class="gt_from_md"><em>L3 random conditional slope for L2 predictor</em>. In this model, \(b_{01k}\) refers to the effect of teacher engagement in school \(k\) when the student engagement is 0.</span></span></td></tr>
    <tr><td headers="Random Coefficients Symbol_6 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3sxMGt9XCk="><span class="gt_from_md">\(b_{10k}\)</span></span></td>
<td headers="Random Coefficients Symbol_6 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkwzIHJhbmRvbSBjb25kaXRpb25hbCBzbG9wZSBmb3IgTDEgcHJlZGljdG9yPC9lbT4uIEluIHRoaXMgbW9kZWwsIFwoYl97MTBrfVwpIHJlZmVycyB0byB0aGUgZWZmZWN0IG9mIHN0dWRlbnQgZW5nYWdlbWVudCBpbiBzY2hvb2wgXChrXCkgd2hlbiB0aGUgdGVhY2hlciBzcGVuZHMgMCBob3VycyBwZXIgbW9udGggb24gaW50ZXJ2ZW50aW9uLXJlbGF0ZWQgYWN0aXZpdG9lcy4="><span class="gt_from_md"><em>L3 random conditional slope for L1 predictor</em>. In this model, \(b_{10k}\) refers to the effect of student engagement in school \(k\) when the teacher spends 0 hours per month on intervention-related activitoes.</span></span></td></tr>
    <tr><td headers="Random Coefficients Symbol_7 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3sxMWt9XCk="><span class="gt_from_md">\(b_{11k}\)</span></span></td>
<td headers="Random Coefficients Symbol_7 Interpretation" class="gt_row gt_left"><span data-qmd-base64="KkwzIHJhbmRvbSBpbnRlcmFjdGlvbiBlZmZlY3QgZm9yIEwxIGFuZCBMMiBwcmVkaWN0b3JzICouIEluIHRoaXMgbW9kZWwsIFwoYl97MTFrfVwpIHJlZmVycyB0byB0aGUgaW50ZXJhY3Rpb24gb2Ygc3R1ZGVudCBhbmQgdGVhY2hlciBlbmdhZ2VtZW50IGluIHNjaG9vbCBcKGtcKS4="><span class="gt_from_md">*L3 random interaction effect for L1 and L2 predictors *. In this model, \(b_{11k}\) refers to the interaction of student and teacher engagement in school \(k\).</span></span></td></tr>
    <tr class="gt_row_group_first"><td headers="Residuals stub_1_8 stub_1" rowspan="3" class="gt_row gt_left gt_stub_row_group">Residuals</td>
<td headers="Residuals stub_1_8 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChcYm9sZHN5bWJvbHtlXzJ9XCk="><span class="gt_from_md">\(\boldsymbol{e_2}\)</span></span></td>
<td headers="Residuals stub_1_8 Interpretation" class="gt_row gt_left"><span data-qmd-base64="VGhlIHZlY3RvciBvZiBMMiByZXNpZHVhbHMsIFwoXHtlX3swamt9LGVfezFqa30gXH1cKQ=="><span class="gt_from_md">The vector of L2 residuals, \(\{e_{0jk},e_{1jk} \}\)</span></span></td></tr>
    <tr><td headers="Residuals Symbol_9 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChlX3swamt9XCk="><span class="gt_from_md">\(e_{0jk}\)</span></span></td>
<td headers="Residuals Symbol_9 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPlJlc2lkdWFsIGZvciBMMiByYW5kb20gaW50ZXJjZXB0PC9lbT4uIEluIHRoaXMgbW9kZWwsIFwoZV97MGprfVwpIHJlZmVycyB0byBob3cgbXVjaCB0aGUgcmVhZGluZyBjb21wcmVoZW5zaW9uIHNjb3JlIGZvciBjbGFzc3Jvb20gXChqXCkgaW4gc2Nob29sIFwoa1wpIGRpZmZlcnMgZnJvbSBleHBlY3RhdGlvbnMgd2hlbiB0aGUgdGVhY2hlciBzcGVudCAwIGhvdXJzIHBlciBtb250aCBvbiBpbnRlcnZlbnRpb24tcmVsYXRlZCBhY3Rpdml0aWVzLg=="><span class="gt_from_md"><em>Residual for L2 random intercept</em>. In this model, \(e_{0jk}\) refers to how much the reading comprehension score for classroom \(j\) in school \(k\) differs from expectations when the teacher spent 0 hours per month on intervention-related activities.</span></span></td></tr>
    <tr><td headers="Residuals Symbol_10 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChlX3sxamt9XCk="><span class="gt_from_md">\(e_{1jk}\)</span></span></td>
<td headers="Residuals Symbol_10 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPlJlc2lkdWFsIGZvciBMMiByYW5kb20gc2xvcGUgb2YgTDEgcHJlZGljdG9yPC9lbT4uIEluIHRoaXMgbW9kZWwsIFwoZV97MWprfVwpIGFsbG93cyB0aGUgZWZmZWN0IG9mIHN0dWRlbnQgZW5nYWdlbWVudCB0byB2YXJ5IGZyb20gY2xhc3MgdG8gY2xhc3MgYWZ0ZXIgYWNjb3VudGluZyBmb3IgdGVhY2hlciBlbmdhZ2VtZW50Lg=="><span class="gt_from_md"><em>Residual for L2 random slope of L1 predictor</em>. In this model, \(e_{1jk}\) allows the effect of student engagement to vary from class to class after accounting for teacher engagement.</span></span></td></tr>
    <tr class="gt_row_group_first"><td headers="Residual Variance stub_1_11 stub_1" rowspan="4" class="gt_row gt_left gt_stub_row_group">Residual Variance</td>
<td headers="Residual Variance stub_1_11 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChcYm9sZHN5bWJvbHtcdGF1XzJ9XCk="><span class="gt_from_md">\(\boldsymbol{\tau_2}\)</span></span></td>
<td headers="Residual Variance stub_1_11 Interpretation" class="gt_row gt_left"><span data-qmd-base64="MiDDlyAyIGNvdmFyaWFuY2UgbWF0cml4IGZvciBMMiByZXNpZHVhbHM="><span class="gt_from_md">2 × 2 covariance matrix for L2 residuals</span></span></td></tr>
    <tr><td headers="Residual Variance Symbol_12 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChcdGF1X3syLjAwfVwp"><span class="gt_from_md">\(\tau_{2.00}\)</span></span></td>
<td headers="Residual Variance Symbol_12 Interpretation" class="gt_row gt_left"><span data-qmd-base64="VmFyaWFuY2Ugb2YgdGhlIEwyIHJhbmRvbSBpbnRlcmNlcHQgcmVzaWR1YWwsIFwoZV97MGprfVwp"><span class="gt_from_md">Variance of the L2 random intercept residual, \(e_{0jk}\)</span></span></td></tr>
    <tr><td headers="Residual Variance Symbol_13 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChcdGF1X3syLjExfVwp"><span class="gt_from_md">\(\tau_{2.11}\)</span></span></td>
<td headers="Residual Variance Symbol_13 Interpretation" class="gt_row gt_left"><span data-qmd-base64="VmFyaWFuY2Ugb2YgdGhlIEwyIHNsb3BlIHJlc2lkdWFsLCBcKGVfezFqa31cKQ=="><span class="gt_from_md">Variance of the L2 slope residual, \(e_{1jk}\)</span></span></td></tr>
    <tr><td headers="Residual Variance Symbol_14 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChcdGF1X3syLjEwfVwp"><span class="gt_from_md">\(\tau_{2.10}\)</span></span></td>
<td headers="Residual Variance Symbol_14 Interpretation" class="gt_row gt_left"><span data-qmd-base64="Q292YXJpYW5jZSBvZiB0aGUgTDIgaW50ZXJjZXB0IGFuZCBzbG9wZSByZXNpZHVhbHMsIFwoZV97MGprfVwpIGFuZCBcKGVfezFqa31cKQ=="><span class="gt_from_md">Covariance of the L2 intercept and slope residuals, \(e_{0jk}\) and \(e_{1jk}\)</span></span></td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="level-3-equations" class="level2">
<h2 class="anchored" data-anchor-id="level-3-equations">Level 3 Equations</h2>
<p>The L3 predictor, principal engagement <span class="math inline">\(P_{jk}\)</span>, can have have an effect on all four L3 random coefficients:</p>
<p><span class="math display">\[
\begin{aligned}
b_{00k}&amp;=b_{000} + b_{001}P_{k}+e_{00k}\\
b_{01k}&amp;=b_{010} + b_{011}P_{k}+e_{01k}\\
b_{10k}&amp;=b_{100} + b_{101}P_{k}+e_{10k}\\
b_{11k}&amp;=b_{110} + b_{111}P_{k}+e_{11k}\\
\boldsymbol{e_3}&amp;=\begin{bmatrix}e_{00k}\\ e_{01k}\\ e_{10k}\\ e_{11k}\end{bmatrix}\\
\boldsymbol{\tau_3}&amp;=\begin{bmatrix}
\tau_{3.00} &amp; \\
\tau_{3.10} &amp; \tau_{3.11}\\
\tau_{3.20} &amp; \tau_{3.21} &amp;  \tau_{3.22}\\
\tau_{3.30} &amp; \tau_{3.31} &amp;  \tau_{3.32} &amp;  \tau_{3.33}
\end{bmatrix}\\
\boldsymbol{e_3}&amp;\sim \mathcal{N}\left(\boldsymbol{0},\boldsymbol{\tau_3}\right)
\end{aligned}
\]</span></p>
<div class="cell">
<div class="cell-output-display">
<div id="erlbhoqvnr" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#erlbhoqvnr table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#erlbhoqvnr thead, #erlbhoqvnr tbody, #erlbhoqvnr tfoot, #erlbhoqvnr tr, #erlbhoqvnr td, #erlbhoqvnr th {
  border-style: none;
}

#erlbhoqvnr p {
  margin: 0;
  padding: 0;
}

#erlbhoqvnr .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#erlbhoqvnr .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#erlbhoqvnr .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#erlbhoqvnr .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#erlbhoqvnr .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#erlbhoqvnr .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#erlbhoqvnr .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#erlbhoqvnr .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 20px;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#erlbhoqvnr .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 20px;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#erlbhoqvnr .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#erlbhoqvnr .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#erlbhoqvnr .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#erlbhoqvnr .gt_spanner_row {
  border-bottom-style: hidden;
}

#erlbhoqvnr .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#erlbhoqvnr .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#erlbhoqvnr .gt_from_md > :first-child {
  margin-top: 0;
}

#erlbhoqvnr .gt_from_md > :last-child {
  margin-bottom: 0;
}

#erlbhoqvnr .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#erlbhoqvnr .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#erlbhoqvnr .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#erlbhoqvnr .gt_row_group_first td {
  border-top-width: 2px;
}

#erlbhoqvnr .gt_row_group_first th {
  border-top-width: 2px;
}

#erlbhoqvnr .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#erlbhoqvnr .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#erlbhoqvnr .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#erlbhoqvnr .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#erlbhoqvnr .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#erlbhoqvnr .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#erlbhoqvnr .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#erlbhoqvnr .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#erlbhoqvnr .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#erlbhoqvnr .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#erlbhoqvnr .gt_footnote {
  margin: 0px;
  font-size: 16px;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#erlbhoqvnr .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#erlbhoqvnr .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#erlbhoqvnr .gt_left {
  text-align: left;
}

#erlbhoqvnr .gt_center {
  text-align: center;
}

#erlbhoqvnr .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#erlbhoqvnr .gt_font_normal {
  font-weight: normal;
}

#erlbhoqvnr .gt_font_bold {
  font-weight: bold;
}

#erlbhoqvnr .gt_font_italic {
  font-style: italic;
}

#erlbhoqvnr .gt_super {
  font-size: 65%;
}

#erlbhoqvnr .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#erlbhoqvnr .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#erlbhoqvnr .gt_indent_1 {
  text-indent: 5px;
}

#erlbhoqvnr .gt_indent_2 {
  text-indent: 10px;
}

#erlbhoqvnr .gt_indent_3 {
  text-indent: 15px;
}

#erlbhoqvnr .gt_indent_4 {
  text-indent: 20px;
}

#erlbhoqvnr .gt_indent_5 {
  text-indent: 25px;
}

#erlbhoqvnr .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#erlbhoqvnr div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="a::stub">Type</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Symbol">Symbol</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Interpretation">Interpretation</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_row_group_first"><td headers="Variables stub_1_1 stub_1" rowspan="1" class="gt_row gt_left gt_stub_row_group">Variables</td>
<td headers="Variables stub_1_1 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChQX3trfVwp"><span class="gt_from_md">\(P_{k}\)</span></span></td>
<td headers="Variables stub_1_1 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPlByaW5jaXBhbCBlbmdhZ2VtZW50PC9lbT4gKEwzIHByZWRpY3RvcikuIE51bWJlciBvZiBob3VycyB0aGUgcHJpbmNpcGFsIGluIHNjaG9vbCBcKGtcKSBzcGVuZCBvbiBpbnRlcnZlbnRpb24tcmVsYXRlZCBhY3Rpdml0aWVzLg=="><span class="gt_from_md"><em>Principal engagement</em> (L3 predictor). Number of hours the principal in school \(k\) spend on intervention-related activities.</span></span></td></tr>
    <tr class="gt_row_group_first"><td headers="Random Coefficients stub_1_2 stub_1" rowspan="4" class="gt_row gt_left gt_stub_row_group">Random Coefficients</td>
<td headers="Random Coefficients stub_1_2 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3swMGt9XCk="><span class="gt_from_md">\(b_{00k}\)</span></span></td>
<td headers="Random Coefficients stub_1_2 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkwzIHJhbmRvbSBpbnRlcmNlcHQ8L2VtPi4gSW4gdGhpcyBtb2RlbCwgXChiX3swMGt9XCkgcmVmZXJzIHRvIHRoZSBwcmVkaWN0ZWQgcmVhZGluZyBzY29yZSBmb3IgY2xhc3Nyb29tIFwoalwpIGluIHNjaG9vbCBcKGtcKSB3aG9zZSB0ZWFjaGVyIHNwZW50IDAgaG91cnMgcGVyIG1vbnRoIG9uIGludGVydmVudGlvbi1yZWxhdGVkIGFjdGl2aXRvZXMu"><span class="gt_from_md"><em>L3 random intercept</em>. In this model, \(b_{00k}\) refers to the predicted reading score for classroom \(j\) in school \(k\) whose teacher spent 0 hours per month on intervention-related activitoes.</span></span></td></tr>
    <tr><td headers="Random Coefficients Symbol_3 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3swMWt9XCk="><span class="gt_from_md">\(b_{01k}\)</span></span></td>
<td headers="Random Coefficients Symbol_3 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkwzIHJhbmRvbSBjb25kaXRpb25hbCBzbG9wZSBvZiBMMiBwcmVkaWN0b3I8L2VtPi4gSW4gdGhpcyBtb2RlbCwgXChiX3swMWt9XCkgcmVmZXJzIHRvIHRoZSBlZmZlY3Qgb2YgdGVhY2hlciBlbmdhZ2VtZW50IGluIHNjaG9vbCBcKGtcKSB3aGVuIHRoZSBzdHVkZW50IGVuZ2FnZW1lbnQgaXMgMC4="><span class="gt_from_md"><em>L3 random conditional slope of L2 predictor</em>. In this model, \(b_{01k}\) refers to the effect of teacher engagement in school \(k\) when the student engagement is 0.</span></span></td></tr>
    <tr><td headers="Random Coefficients Symbol_4 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3sxMGt9XCk="><span class="gt_from_md">\(b_{10k}\)</span></span></td>
<td headers="Random Coefficients Symbol_4 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkwzIHJhbmRvbSBjb25kaXRpb25hbCBzbG9wZSBvZiBMMSBwcmVkaWN0b3I8L2VtPi4gSW4gdGhpcyBtb2RlbCwgXChiX3sxMGt9XCkgcmVmZXJzIHRvIHRoZSBlZmZlY3Qgb2Ygc3R1ZGVudCBlbmdhZ2VtZW50IGluIHNjaG9vbCBcKGtcKSB3aGVuIHRoZSB0ZWFjaGVyIHNwZW5kcyAwIGhvdXJzIHBlciBtb250aCBvbiBpbnRlcnZlbnRpb24tcmVsYXRlZCBhY3Rpdml0b2VzLg=="><span class="gt_from_md"><em>L3 random conditional slope of L1 predictor</em>. In this model, \(b_{10k}\) refers to the effect of student engagement in school \(k\) when the teacher spends 0 hours per month on intervention-related activitoes.</span></span></td></tr>
    <tr><td headers="Random Coefficients Symbol_5 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3sxMWt9XCk="><span class="gt_from_md">\(b_{11k}\)</span></span></td>
<td headers="Random Coefficients Symbol_5 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkwzIHJhbmRvbSBpbnRlcmFjdGlvbiBlZmZlY3Q8L2VtPi4gSW4gdGhpcyBtb2RlbCwgXChiX3sxMWt9XCkgcmVmZXJzIHRvIHRoZSBpbnRlcmFjdGlvbiBvZiBzdHVkZW50IGFuZCB0ZWFjaGVyIGVuZ2FnZW1lbnQgaW4gc2Nob29sIFwoa1wpLg=="><span class="gt_from_md"><em>L3 random interaction effect</em>. In this model, \(b_{11k}\) refers to the interaction of student and teacher engagement in school \(k\).</span></span></td></tr>
    <tr class="gt_row_group_first"><td headers="Fixed Coefficients stub_1_6 stub_1" rowspan="8" class="gt_row gt_left gt_stub_row_group">Fixed Coefficients</td>
<td headers="Fixed Coefficients stub_1_6 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3swMDB9XCk="><span class="gt_from_md">\(b_{000}\)</span></span></td>
<td headers="Fixed Coefficients stub_1_6 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkZpeGVkIEludGVyY2VwdDwvZW0+LiBJbiB0aGlzIG1vZGVsLCBcKGJfezAwMH1cKSByZWZlcnMgdG8gdGhlIHByZWRpY3RlZCByZWFkaW5nIHNjb3JlIHdoZW4gc3R1ZGVudCwgdGVhY2hlciwgYW5kIHByaW5jaXBhbCBlbmdhZ2VtZW50IGlzIDAu"><span class="gt_from_md"><em>Fixed Intercept</em>. In this model, \(b_{000}\) refers to the predicted reading score when student, teacher, and principal engagement is 0.</span></span></td></tr>
    <tr><td headers="Fixed Coefficients Symbol_7 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3swMDF9XCk="><span class="gt_from_md">\(b_{001}\)</span></span></td>
<td headers="Fixed Coefficients Symbol_7 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkZpeGVkIENvbmRpdGlvbmFsIFNsb3BlIG9mIEwzIHByZWRpY3RvcjwvZW0+LiBJbiB0aGlzIG1vZGVsLCBcKGJfezAwMX1cKSByZWZlcnMgdG8gdGhlIGVmZmVjdCBvZiBwcmluY2lwYWwgZW5nYWdlbWVudCB3aGVuIHN0dWRlbnQgYW5kIHRlYWNoZXIgZW5nYWdlbWVudCBpcyAwLg=="><span class="gt_from_md"><em>Fixed Conditional Slope of L3 predictor</em>. In this model, \(b_{001}\) refers to the effect of principal engagement when student and teacher engagement is 0.</span></span></td></tr>
    <tr><td headers="Fixed Coefficients Symbol_8 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3swMTB9XCk="><span class="gt_from_md">\(b_{010}\)</span></span></td>
<td headers="Fixed Coefficients Symbol_8 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkZpeGVkIENvbmRpdGlvbmFsIFNsb3BlIG9mIEwyIHByZWRpY3RvcjwvZW0+LiBJbiB0aGlzIG1vZGVsLCBcKGJfezAxMH1cKSByZWZlcnMgdG8gdGhlIGVmZmVjdCBvZiB0ZWFjaGVyIGVuZ2FnZW1lbnQgd2hlbiBzdHVkZW50IGFuZCBwcmluY2lwYWwgZW5nYWdlbWVudCBpcyAwLg=="><span class="gt_from_md"><em>Fixed Conditional Slope of L2 predictor</em>. In this model, \(b_{010}\) refers to the effect of teacher engagement when student and principal engagement is 0.</span></span></td></tr>
    <tr><td headers="Fixed Coefficients Symbol_9 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3swMTF9XCk="><span class="gt_from_md">\(b_{011}\)</span></span></td>
<td headers="Fixed Coefficients Symbol_9 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkZpeGVkIEwyLUwzIENvbmRpdGlvbmFsIEludGVyYWN0aW9uPC9lbT4uIEluIHRoaXMgbW9kZWwsIFwoYl97MDExfVwpIHJlZmVycyB0byB0aGUgaW50ZXJhY3Rpb24gb2YgdGVhY2hlciBhbmQgcHJpbmNpcGFsIGVuZ2FnZW1lbnQgd2hlbiBzdHVkZW50IGVuZ2FnZW1lbnQgaXMgMC4="><span class="gt_from_md"><em>Fixed L2-L3 Conditional Interaction</em>. In this model, \(b_{011}\) refers to the interaction of teacher and principal engagement when student engagement is 0.</span></span></td></tr>
    <tr><td headers="Fixed Coefficients Symbol_10 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3sxMDB9XCk="><span class="gt_from_md">\(b_{100}\)</span></span></td>
<td headers="Fixed Coefficients Symbol_10 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkZpeGVkIENvbmRpdGlvbmFsIFNsb3BlIG9mIEwxIHByZWRpY3RvcjwvZW0+LiBJbiB0aGlzIG1vZGVsLCBcKGJfezEwMH1cKSByZWZlcnMgdG8gdGhlIGVmZmVjdCBvZiBzdHVkZW50IGVuZ2FnZW1lbnQgd2hlbiB0ZWFjaGVyIGFuZCBwcmluY2lwYWwgZW5nYWdlbWVudCBpcyAwLg=="><span class="gt_from_md"><em>Fixed Conditional Slope of L1 predictor</em>. In this model, \(b_{100}\) refers to the effect of student engagement when teacher and principal engagement is 0.</span></span></td></tr>
    <tr><td headers="Fixed Coefficients Symbol_11 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3sxMDF9XCk="><span class="gt_from_md">\(b_{101}\)</span></span></td>
<td headers="Fixed Coefficients Symbol_11 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkZpeGVkIEwxLUwzIENvbmRpdGlvbmFsIEludGVyYWN0aW9uPC9lbT4uIEluIHRoaXMgbW9kZWwsIFwoYl97MTAxfVwpIHJlZmVycyB0byB0aGUgaW50ZXJhY3Rpb24gb2Ygc3R1ZGVudCBhbmQgcHJpbmNpcGFsIGVuZ2FnZW1lbnQgd2hlbiB0ZWFjaGVyIGVuZ2FnZW1lbnQgaXMgMC4="><span class="gt_from_md"><em>Fixed L1-L3 Conditional Interaction</em>. In this model, \(b_{101}\) refers to the interaction of student and principal engagement when teacher engagement is 0.</span></span></td></tr>
    <tr><td headers="Fixed Coefficients Symbol_12 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3sxMTB9XCk="><span class="gt_from_md">\(b_{110}\)</span></span></td>
<td headers="Fixed Coefficients Symbol_12 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkZpeGVkIEwxLUwyIENvbmRpdGlvbmFsIEludGVyYWN0aW9uPC9lbT4uIEluIHRoaXMgbW9kZWwsIFwoYl97MTEwfVwpIHJlZmVycyB0byB0aGUgaW50ZXJhY3Rpb24gb2Ygc3R1ZGVudCBhbmQgcHJpbmNpcGFsIGVuZ2FnZW1lbnQgd2hlbiB0ZWFjaGVyIGVuZ2FnZW1lbnQgaXMgMC4="><span class="gt_from_md"><em>Fixed L1-L2 Conditional Interaction</em>. In this model, \(b_{110}\) refers to the interaction of student and principal engagement when teacher engagement is 0.</span></span></td></tr>
    <tr><td headers="Fixed Coefficients Symbol_13 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChiX3sxMTF9XCk="><span class="gt_from_md">\(b_{111}\)</span></span></td>
<td headers="Fixed Coefficients Symbol_13 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPkZpeGVkIEwxLUwyLUwzIEludGVyYWN0aW9uPC9lbT4uIEluIHRoaXMgbW9kZWwsIFwoYl97MTExfVwpIHJlZmVycyB0byB0aGUgaW50ZXJhY3Rpb24gb2Ygc3R1ZGVudCwgdGVhY2hlciwgYW5kIHByaW5jaXBhbCBlbmdhZ2VtZW50Lg=="><span class="gt_from_md"><em>Fixed L1-L2-L3 Interaction</em>. In this model, \(b_{111}\) refers to the interaction of student, teacher, and principal engagement.</span></span></td></tr>
    <tr class="gt_row_group_first"><td headers="Residuals stub_1_14 stub_1" rowspan="5" class="gt_row gt_left gt_stub_row_group">Residuals</td>
<td headers="Residuals stub_1_14 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChcYm9sZHN5bWJvbHtlXzN9XCk="><span class="gt_from_md">\(\boldsymbol{e_3}\)</span></span></td>
<td headers="Residuals stub_1_14 Interpretation" class="gt_row gt_left"><span data-qmd-base64="VGhlIHZlY3RvciBvZiBMMyByZXNpZHVhbHMsIFwoXHtlX3swMGt9LGVfezAxa30sZV97MTBrfSxlX3sxMWt9IFx9XCk="><span class="gt_from_md">The vector of L3 residuals, \(\{e_{00k},e_{01k},e_{10k},e_{11k} \}\)</span></span></td></tr>
    <tr><td headers="Residuals Symbol_15 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChlX3swMGt9XCk="><span class="gt_from_md">\(e_{00k}\)</span></span></td>
<td headers="Residuals Symbol_15 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPlJlc2lkdWFsIGZvciBMMyBpbnRlcmNlcHQ8L2VtPi4gSW4gdGhpcyBtb2RlbCwgXChlX3swMGt9XCkgcmVmZXJzIHRvIGhvdyBtdWNoIHRoZSByZWFkaW5nIGNvbXByZWhlbnNpb24gc2NvcmUgZm9yIHNjaG9vbCBcKGtcKSBkaWZmZXJzIGZyb20gZXhwZWN0YXRpb25zIHdoZW4gc3R1ZGVudCwgdGVhY2hlciwgYW5kIHByaW5jaXBhbCBlbmdhZ2VtZW50IGlzIDAu"><span class="gt_from_md"><em>Residual for L3 intercept</em>. In this model, \(e_{00k}\) refers to how much the reading comprehension score for school \(k\) differs from expectations when student, teacher, and principal engagement is 0.</span></span></td></tr>
    <tr><td headers="Residuals Symbol_16 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChlX3swMWt9XCk="><span class="gt_from_md">\(e_{01k}\)</span></span></td>
<td headers="Residuals Symbol_16 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPlJlc2lkdWFsIGZvciByYW5kb20gTDMgY29uZGl0aW9uYWwgc2xvcGUgb2YgTDIgcHJlZGljdG9yPC9lbT4uIEluIHRoaXMgbW9kZWwsIFwoZV97MDFrfVwpIHJlZmVycyBob3cgbXVjaCB0aGUgY29uZGl0aW9uYWwgZWZmZWN0IG9mIHRlYWNoZXIgZW5nYWdlbWVudCAod2hlbiBzdHVkZW50IGFuZCBwcmluY2lwYWwgZW5nYWdlbWVudCBpcyAwKSBkaWZmZXJzIGZyb20gZXhwZWN0YXRpb25zIGluIHNjaG9vbCBcKGtcKS4="><span class="gt_from_md"><em>Residual for random L3 conditional slope of L2 predictor</em>. In this model, \(e_{01k}\) refers how much the conditional effect of teacher engagement (when student and principal engagement is 0) differs from expectations in school \(k\).</span></span></td></tr>
    <tr><td headers="Residuals Symbol_17 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChlX3sxMGt9XCk="><span class="gt_from_md">\(e_{10k}\)</span></span></td>
<td headers="Residuals Symbol_17 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPlJlc2lkdWFsIGZvciByYW5kb20gTDMgY29uZGl0aW9uYWwgc2xvcGUgb2YgdGhlIEwxIHByZWRpY3RvcjwvZW0+LiBJbiB0aGlzIG1vZGVsLCBcKGVfezEwa31cKSByZWZlcnMgaG93IG11Y2ggdGhlIGNvbmRpdGlvbmFsIGVmZmVjdCBvZiBzdHVkZW50IGVuZ2FnZW1lbnQgKHdoZW4gdGVhY2hlciBhbmQgcHJpbmNpcGFsIGVuZ2FnZW1lbnQgaXMgMCkgZGlmZmVycyBmcm9tIGV4cGVjdGF0aW9ucyBpbiBzY2hvb2wgXChrXCku"><span class="gt_from_md"><em>Residual for random L3 conditional slope of the L1 predictor</em>. In this model, \(e_{10k}\) refers how much the conditional effect of student engagement (when teacher and principal engagement is 0) differs from expectations in school \(k\).</span></span></td></tr>
    <tr><td headers="Residuals Symbol_18 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChlX3sxMWt9XCk="><span class="gt_from_md">\(e_{11k}\)</span></span></td>
<td headers="Residuals Symbol_18 Interpretation" class="gt_row gt_left"><span data-qmd-base64="PGVtPlJlc2lkdWFsIGZvciByYW5kb20gTDMgaW50ZXJhY3Rpb24gb2YgTDEgYW5kIEwyIHByZWRpY3RvcnM8L2VtPi4gSW4gdGhpcyBtb2RlbCwgXChlX3sxMWt9XCkgcmVmZXJzIGhvdyBtdWNoIHRoZSBpbnRlcmFjdGlvbiBvZiBzdHVkZW50IGFuZCB0ZWFjaGVyIGVuZ2FnZW1lbnQgZGlmZmVycyBmcm9tIGV4cGVjdGF0aW9ucyBpbiBzY2hvb2wgXChrXCku"><span class="gt_from_md"><em>Residual for random L3 interaction of L1 and L2 predictors</em>. In this model, \(e_{11k}\) refers how much the interaction of student and teacher engagement differs from expectations in school \(k\).</span></span></td></tr>
    <tr class="gt_row_group_first"><td headers="Residual Variance stub_1_19 stub_1" rowspan="11" class="gt_row gt_left gt_stub_row_group">Residual Variance</td>
<td headers="Residual Variance stub_1_19 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChcYm9sZHN5bWJvbHtcdGF1XzN9XCk="><span class="gt_from_md">\(\boldsymbol{\tau_3}\)</span></span></td>
<td headers="Residual Variance stub_1_19 Interpretation" class="gt_row gt_left"><span data-qmd-base64="NCDDlyA0IGNvdmFyaWFuY2UgbWF0cml4IGZvciBMMyByZXNpZHVhbHM="><span class="gt_from_md">4 × 4 covariance matrix for L3 residuals</span></span></td></tr>
    <tr><td headers="Residual Variance Symbol_20 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChcdGF1X3szLjAwfVwp"><span class="gt_from_md">\(\tau_{3.00}\)</span></span></td>
<td headers="Residual Variance Symbol_20 Interpretation" class="gt_row gt_left"><span data-qmd-base64="VmFyaWFuY2Ugb2YgXChlX3swMGt9XCkuIEFmdGVyIGNvbnRyb2xpbmcgZm9yIHRoZSBMMyBwcmVkaWN0b3IgKHByaW5jaXBhbCBlbmdhZ2VtZW50KSwgaG93IG11Y2ggZG9lcyB0aGUgTDMgaW50ZXJjZXB0IHZhcnk/"><span class="gt_from_md">Variance of \(e_{00k}\). After controling for the L3 predictor (principal engagement), how much does the L3 intercept vary?</span></span></td></tr>
    <tr><td headers="Residual Variance Symbol_21 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChcdGF1X3szLjExfVwp"><span class="gt_from_md">\(\tau_{3.11}\)</span></span></td>
<td headers="Residual Variance Symbol_21 Interpretation" class="gt_row gt_left"><span data-qmd-base64="VmFyaWFuY2Ugb2YgXChlX3swMWt9XCkuIEFmdGVyIGNvbnRyb2xpbmcgZm9yIHRoZSBMMyBwcmVkaWN0b3IgKHByaW5jaXBhbCBlbmdhZ2VtZW50KSwgaG93IG11Y2ggZG9lcyB0aGUgTDMgc2xvcGUgb2YgdGhlIEwyIHByZWRpY3RvciAodGVhY2hlciBlbmdhZ2VtZW50KSB2YXJ5Pw=="><span class="gt_from_md">Variance of \(e_{01k}\). After controling for the L3 predictor (principal engagement), how much does the L3 slope of the L2 predictor (teacher engagement) vary?</span></span></td></tr>
    <tr><td headers="Residual Variance Symbol_22 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChcdGF1X3szLjIyfVwp"><span class="gt_from_md">\(\tau_{3.22}\)</span></span></td>
<td headers="Residual Variance Symbol_22 Interpretation" class="gt_row gt_left"><span data-qmd-base64="VmFyaWFuY2Ugb2YgXChlX3sxMGt9XCkuIEFmdGVyIGNvbnRyb2xpbmcgZm9yIHRoZSBMMyBwcmVkaWN0b3IgKHByaW5jaXBhbCBlbmdhZ2VtZW50KSwgaG93IG11Y2ggZG9lcyB0aGUgTDMgc2xvcGUgb2YgdGhlIEwxIHByZWRpY3RvciAoc3R1ZGVudCBlbmdhZ2VtZW50KSB2YXJ5Pw=="><span class="gt_from_md">Variance of \(e_{10k}\). After controling for the L3 predictor (principal engagement), how much does the L3 slope of the L1 predictor (student engagement) vary?</span></span></td></tr>
    <tr><td headers="Residual Variance Symbol_23 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChcdGF1X3szLjMzfVwp"><span class="gt_from_md">\(\tau_{3.33}\)</span></span></td>
<td headers="Residual Variance Symbol_23 Interpretation" class="gt_row gt_left"><span data-qmd-base64="VmFyaWFuY2Ugb2YgXChlX3sxMWt9XCkuIEFmdGVyIGNvbnRyb2xpbmcgZm9yIHRoZSBMMyBwcmVkaWN0b3IgKHByaW5jaXBhbCBlbmdhZ2VtZW50KSwgaG93IG11Y2ggZG9lcyB0aGUgTDMgaW50ZXJhY3Rpb24gb2YgdGhlIEwx4oCTTDIgcHJlZGljdG9ycyAoc3R1ZGVudCBhbmQgdGVhY2hlciBlbmdhZ2VtZW50KSB2YXJ5Pw=="><span class="gt_from_md">Variance of \(e_{11k}\). After controling for the L3 predictor (principal engagement), how much does the L3 interaction of the L1–L2 predictors (student and teacher engagement) vary?</span></span></td></tr>
    <tr><td headers="Residual Variance Symbol_24 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChcdGF1X3szLjEwfVwp"><span class="gt_from_md">\(\tau_{3.10}\)</span></span></td>
<td headers="Residual Variance Symbol_24 Interpretation" class="gt_row gt_left"><span data-qmd-base64="Q292YXJpYW5jZSBvZiB0aGUgXChlX3swMGt9XCkgYW5kIFwoZV97MDFrfVwpLg=="><span class="gt_from_md">Covariance of the \(e_{00k}\) and \(e_{01k}\).</span></span></td></tr>
    <tr><td headers="Residual Variance Symbol_25 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChcdGF1X3szLjIwfVwp"><span class="gt_from_md">\(\tau_{3.20}\)</span></span></td>
<td headers="Residual Variance Symbol_25 Interpretation" class="gt_row gt_left"><span data-qmd-base64="Q292YXJpYW5jZSBvZiB0aGUgXChlX3swMGt9XCkgYW5kIFwoZV97MTBrfVwp"><span class="gt_from_md">Covariance of the \(e_{00k}\) and \(e_{10k}\)</span></span></td></tr>
    <tr><td headers="Residual Variance Symbol_26 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChcdGF1X3szLjMwfVwp"><span class="gt_from_md">\(\tau_{3.30}\)</span></span></td>
<td headers="Residual Variance Symbol_26 Interpretation" class="gt_row gt_left"><span data-qmd-base64="Q292YXJpYW5jZSBvZiB0aGUgXChlX3swMGt9XCkgYW5kIFwoZV97MTFrfVwp"><span class="gt_from_md">Covariance of the \(e_{00k}\) and \(e_{11k}\)</span></span></td></tr>
    <tr><td headers="Residual Variance Symbol_27 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChcdGF1X3szLjEwfVwp"><span class="gt_from_md">\(\tau_{3.10}\)</span></span></td>
<td headers="Residual Variance Symbol_27 Interpretation" class="gt_row gt_left"><span data-qmd-base64="Q292YXJpYW5jZSBvZiB0aGUgXChlX3swMWt9XCkgYW5kIFwoZV97MTBrfVwp"><span class="gt_from_md">Covariance of the \(e_{01k}\) and \(e_{10k}\)</span></span></td></tr>
    <tr><td headers="Residual Variance Symbol_28 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChcdGF1X3szLjEwfVwp"><span class="gt_from_md">\(\tau_{3.10}\)</span></span></td>
<td headers="Residual Variance Symbol_28 Interpretation" class="gt_row gt_left"><span data-qmd-base64="Q292YXJpYW5jZSBvZiB0aGUgXChlX3swMWt9XCkgYW5kIFwoZV97MTFrfVwp"><span class="gt_from_md">Covariance of the \(e_{01k}\) and \(e_{11k}\)</span></span></td></tr>
    <tr><td headers="Residual Variance Symbol_29 Symbol" class="gt_row gt_left"><span data-qmd-base64="XChcdGF1X3szLjEwfVwp"><span class="gt_from_md">\(\tau_{3.10}\)</span></span></td>
<td headers="Residual Variance Symbol_29 Interpretation" class="gt_row gt_left"><span data-qmd-base64="Q292YXJpYW5jZSBvZiB0aGUgXChlX3sxMGt9XCkgYW5kIFwoZV97MTBrfVwp"><span class="gt_from_md">Covariance of the \(e_{10k}\) and \(e_{10k}\)</span></span></td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="combined-equation" class="level2">
<h2 class="anchored" data-anchor-id="combined-equation">Combined Equation</h2>
<p><span class="math display">\[
\begin{multline}
Reading_{ijk}=\underbrace{\underbrace{b_{000} + b_{001}P_{k}+e_{00k}}_{b_{00k}} + \underbrace{(b_{010} + b_{011}P_{k}+e_{01k})}_{b_{01k}}T_{jk}+e_{0jk}}_{b_{0jk}}+\\
\underbrace{(\underbrace{b_{100}+b_{101}P_k+e_{10k}}_{b_{10k}} + (\underbrace{b_{110}+b_{111}P_k+e_{11k}}_{b_{11k}})T_{jk}+e_{1jk})}_{b_{1jk}}S_{ijk}+e_{ijk}\\
~
\end{multline}
\]</span></p>
</section>
<section id="combined-fixed-vs.-random-effects-equation" class="level2">
<h2 class="anchored" data-anchor-id="combined-fixed-vs.-random-effects-equation">Combined Fixed vs.&nbsp;Random Effects Equation</h2>
<p><span class="math display">\[
\begin{aligned}
Reading_{ijk}&amp;=
\underbrace{b_{000}}_{\text{Fixed Intercept}} +\\ &amp;\underbrace{b_{001}P_{k}+b_{010}T_{jk} + b_{100}S_{ijk}}_{\text{Fixed Conditional Slopes}} +\\
&amp;\underbrace{b_{110}S_{ijk}T_{jk}+b_{101}S_{ijk}P_{k}+b_{011}T_{jk}P_{k}}_{\text{Fixed Conditional 2-Way Interactions}}+\\
&amp;\underbrace{b_{111}S_{ijk}T_{jk}P_{k}}_{\text{Fixed L1-L2-L3 Interaction}}+\\
&amp;\underbrace{e_{00k}+e_{01k}T_{jk}+e_{10k}S_{ijk}+e_{11k}S_{ijk}T_{jk}}_{\text{L3 Random Effects}}+\\
&amp;\underbrace{e_{0jk}+e_{1jk}S_{ijk}}_{\text{L2 Random Effects}}+\\
&amp;\underbrace{e_{ijk}}_{\text{L1 Random Effect}}
\end{aligned}
\]</span></p>
<p>This last equation is equivalent to this model in R:</p>
<pre><code>Reading ~ 
  1 + 
  P + T + S + 
  S:T + T:P + 
  S:T:P +
  (1 + T + S + S:T | id_school) +
  (1 + S | id_classrom)</code></pre>
<p>Some helpful hints about notation:</p>
<ul>
<li>Terms with letters in the subscripts are random. These include variables (e.g., <span class="math inline">\(Reading_{ijk}, S_{ijk}, T_{jk}, P_k\)</span>), residuals (e.g., <span class="math inline">\(e_{ijk}, e_{0jk}, e_{10k}\)</span>), and random coefficients (e.g., <span class="math inline">\(b_{0jk}, b_{10k}\)</span>).</li>
<li>Random coefficients have a mix of numbers and letters in the subscripts (e.g., <span class="math inline">\(b_{0jk}, b_{10k}\)</span>).</li>
<li>Fixed coefficients have numbers only in the subscripts (e.g., <span class="math inline">\(b_{000}, b_{110}\)</span>).</li>
<li>Coefficients with numbers that are exclusively 0 are intercepts (e.g., <span class="math inline">\(b_{000}, b_{0jk}, b_{00k}\)</span>).</li>
<li>Coefficients with only 1 non-zero number are slopes (e.g., <span class="math inline">\(b_{001}, b_{010}, b_{100}, b_{1jk}, b_{01k}\)</span>). If interaction effects involving the same variable are present in the model, these slopes are conditional slopes (AKA simple slopes).</li>
<li>Coefficients with multiple non-zero numbers are interaction effects (e.g., <span class="math inline">\(b_{011}, b_{110}, b_{101},b_{111}, b_{11k}\)</span>).</li>
</ul>
<p>To determine the level of the variable:</p>
<ul>
<li>All fixed coefficients are specified at the highest level (i.e., 3 in this model)</li>
<li>All variables, random coefficients, and error terms belong to the level that corresponds to the number of letters like so:</li>
</ul>
<p><span class="math display">\[
\text{Level}=1+\text{Highest Level}-\text{Number of Letters in Subscript}
\]</span></p>
<p>Thus, in this model, any symbol with <span class="math inline">\(ijk\)</span> in the subscript is a level-1 variable (e.g., <span class="math inline">\(Reading_{ijk}, S_{ijk}, e_{ijk}\)</span>).</p>
<p>Otherwise, any symbol with <span class="math inline">\(jk\)</span> in the subscript belongs to level 2 . Otherwise, any symbol with <span class="math inline">\(k\)</span> in the subscript belongs to level 3. Fixed coefficients are included in the highest level’s equations (i.e., 3).</p>
<p>Predictors are paired with coefficients from the next highest level or with fixed coefficients if no higher level exists. Thus,</p>
<ul>
<li>Level-1 predictors are paired with level-2 coefficients (e.g., <span class="math inline">\(b_{1jk}S_{ijk}\)</span>).</li>
<li>Level-2 predictors are paired with level-3 coefficients (e.g., <span class="math inline">\(b_{01k}T_{jk}\)</span> and <span class="math inline">\(b_{11k}T_{jk}\)</span>).</li>
<li>Level-3 predictors (highest level) are paired with fixed coefficients (e.g., <span class="math inline">\(b_{001}P_{k}\)</span>, <span class="math inline">\(b_{011}P_{k}\)</span>, <span class="math inline">\(b_{101}P_{k}\)</span>, and <span class="math inline">\(b_{111}P_{k}\)</span>).</li>
</ul>
</section>
</section>
<section id="path-diagram" class="level1">
<h1>Path Diagram</h1>
<div class="cell preview-image">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>myfont <span class="ot">&lt;-</span> <span class="st">"Roboto Condensed"</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggdiagram)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ggdiagram is an experimental package that can be installed </span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># remotes::install_github("wjschne/ggdiagram")</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>my_hue <span class="ot">&lt;-</span> viridis<span class="sc">::</span><span class="fu">viridis</span>(<span class="dv">3</span>, <span class="at">begin =</span> .<span class="dv">2</span>, <span class="at">end =</span> .<span class="dv">7</span>) </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>my_color_dark <span class="ot">&lt;-</span> my_hue <span class="sc">%&gt;%</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map2_chr</span>(<span class="fu">c</span>(.<span class="dv">2</span>,.<span class="dv">25</span>, .<span class="dv">3</span>), tinter<span class="sc">::</span>darken)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>my_color_light <span class="ot">&lt;-</span> my_hue <span class="sc">%&gt;%</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  tinter<span class="sc">::</span><span class="fu">lighten</span>(.<span class="dv">4</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>my_color <span class="ot">&lt;-</span> my_hue <span class="sc">%&gt;%</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  tinter<span class="sc">::</span><span class="fu">lighten</span>(.<span class="dv">8</span>)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>line_color <span class="ot">&lt;-</span> <span class="st">"gray30"</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>my_intercept <span class="ot">&lt;-</span> <span class="fu">redefault</span>(</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  ob_ngon,</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">radius =</span> .<span class="dv">7</span>,</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">angle =</span> <span class="dv">90</span>,</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">fill =</span> my_color_light[<span class="dv">1</span>],</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="cn">NA</span>,</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> <span class="st">"1~1~"</span>,</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">vertex_radius =</span> <span class="fu">unit</span>(<span class="fl">0.5</span>, <span class="st">"mm"</span>)</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>my_path <span class="ot">&lt;-</span> <span class="fu">redefault</span>(connect, <span class="at">resect =</span> <span class="dv">2</span>, <span class="at">color =</span> my_color_light[<span class="dv">3</span>])</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>my_error <span class="ot">&lt;-</span> <span class="fu">redefault</span>(ob_circle,</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>                      <span class="at">radius =</span> .<span class="dv">5</span>,</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>                      <span class="at">color =</span> <span class="cn">NA</span>,</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>                      <span class="at">fill =</span> my_color_light[<span class="dv">1</span>])</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>my_error_variance <span class="ot">&lt;-</span> <span class="fu">redefault</span>(</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>  ob_variance,</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">resect =</span> <span class="dv">1</span>,</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">linewidth =</span> .<span class="dv">4</span>,</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">theta =</span> <span class="dv">60</span>,</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">looseness =</span> <span class="fl">1.5</span>,</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">where =</span> <span class="st">"right"</span>,</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span>  my_color[<span class="dv">3</span>]</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>my_path_label <span class="ot">&lt;-</span> <span class="fu">redefault</span>(</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>  ob_label,</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>  <span class="at">size =</span> <span class="dv">13</span>,</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>  <span class="at">angle =</span> <span class="dv">0</span>,</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">position =</span> .<span class="dv">45</span>,</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>  <span class="at">label.padding =</span> <span class="fu">margin</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>),</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> my_color[<span class="dv">3</span>]</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>my_coefficient <span class="ot">&lt;-</span> <span class="fu">redefault</span>(ob_circle,</span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>                            <span class="at">radius =</span> .<span class="dv">45</span>,</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>                            <span class="at">fill =</span> my_color_light[<span class="dv">3</span>],</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>                            <span class="at">color =</span> <span class="cn">NA</span>)</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>my_coefficient_label <span class="ot">&lt;-</span> <span class="fu">redefault</span>(ob_label, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color =</span> my_color_dark[<span class="dv">3</span>], <span class="at">size =</span> <span class="dv">15</span>)</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>my_residual <span class="ot">&lt;-</span> <span class="fu">redefault</span>(ob_circle,</span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>                         <span class="at">radius =</span> .<span class="dv">35</span>,</span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>                         <span class="at">fill =</span> my_color_light[<span class="dv">3</span>],</span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a>                         <span class="at">color =</span> <span class="cn">NA</span>)</span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a>my_residual_label <span class="ot">&lt;-</span> <span class="fu">redefault</span>(ob_label, <span class="at">size =</span> <span class="dv">13</span>, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color =</span> my_color_dark[<span class="dv">3</span>])</span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a>my_residual_variance <span class="ot">&lt;-</span> <span class="fu">redefault</span>(</span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a>  ob_variance,</span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a>  <span class="at">resect =</span> <span class="dv">1</span>,</span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a>  <span class="at">linewidth =</span> .<span class="dv">4</span>,</span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a>  <span class="at">theta =</span> <span class="dv">60</span>,</span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a>  <span class="at">looseness =</span> <span class="dv">2</span>,</span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a>  <span class="at">where =</span> <span class="st">"right"</span>,</span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> my_color_light[<span class="dv">3</span>]</span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a>my_residual_variance_label <span class="ot">&lt;-</span> <span class="fu">redefault</span>(</span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a>  ob_label,</span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a>  <span class="at">size =</span> <span class="dv">13</span>,</span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a>  <span class="at">label.padding =</span> <span class="fu">margin</span>(<span class="at">l =</span> <span class="dv">1</span>, <span class="at">r =</span> <span class="dv">1</span>, <span class="at">t =</span> <span class="dv">1</span>, <span class="at">b =</span> <span class="dv">1</span>),</span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a>  <span class="at">position =</span> .<span class="dv">5</span>,</span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> my_color[<span class="dv">3</span>]</span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-78"><a href="#cb3-78" aria-hidden="true" tabindex="-1"></a>my_observed <span class="ot">&lt;-</span> <span class="fu">redefault</span>(</span>
<span id="cb3-79"><a href="#cb3-79" aria-hidden="true" tabindex="-1"></a>  ob_ellipse, </span>
<span id="cb3-80"><a href="#cb3-80" aria-hidden="true" tabindex="-1"></a>  <span class="at">m1 =</span> <span class="dv">18</span>, </span>
<span id="cb3-81"><a href="#cb3-81" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="cn">NA</span>, </span>
<span id="cb3-82"><a href="#cb3-82" aria-hidden="true" tabindex="-1"></a>  <span class="at">fill =</span> my_color_light[<span class="dv">1</span>])</span>
<span id="cb3-83"><a href="#cb3-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-84"><a href="#cb3-84" aria-hidden="true" tabindex="-1"></a>my_observed_label <span class="ot">&lt;-</span> <span class="fu">redefault</span>(ob_label, </span>
<span id="cb3-85"><a href="#cb3-85" aria-hidden="true" tabindex="-1"></a>                               <span class="at">size =</span> <span class="dv">18</span>, </span>
<span id="cb3-86"><a href="#cb3-86" aria-hidden="true" tabindex="-1"></a>                               <span class="at">fill =</span> <span class="cn">NA</span>, </span>
<span id="cb3-87"><a href="#cb3-87" aria-hidden="true" tabindex="-1"></a>                               <span class="at">color =</span> my_color_dark[<span class="dv">1</span>])</span>
<span id="cb3-88"><a href="#cb3-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-89"><a href="#cb3-89" aria-hidden="true" tabindex="-1"></a><span class="fu">ggdiagram</span>(myfont, <span class="at">font_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb3-90"><a href="#cb3-90" aria-hidden="true" tabindex="-1"></a>  {read <span class="ot">&lt;-</span> <span class="fu">my_observed</span>(<span class="at">label =</span> <span class="fu">my_observed_label</span>(<span class="st">"*Reading*~*ijk*~"</span>))} <span class="sc">+</span> </span>
<span id="cb3-91"><a href="#cb3-91" aria-hidden="true" tabindex="-1"></a>  {S <span class="ot">&lt;-</span> <span class="fu">my_observed</span>(<span class="at">label =</span> <span class="fu">my_observed_label</span>(<span class="st">"*Student*~*ijk*~"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-92"><a href="#cb3-92" aria-hidden="true" tabindex="-1"></a>    <span class="fu">place</span>(read, <span class="st">"left"</span>, <span class="dv">5</span>)} <span class="sc">+</span> </span>
<span id="cb3-93"><a href="#cb3-93" aria-hidden="true" tabindex="-1"></a>  {S2read <span class="ot">&lt;-</span> <span class="fu">my_path</span>(S, read, <span class="at">color =</span> my_color_light[<span class="dv">1</span>])} <span class="sc">+</span></span>
<span id="cb3-94"><a href="#cb3-94" aria-hidden="true" tabindex="-1"></a>  {b_1jk <span class="ot">&lt;-</span> <span class="fu">my_coefficient</span>(</span>
<span id="cb3-95"><a href="#cb3-95" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> my_color_light[<span class="dv">2</span>],</span>
<span id="cb3-96"><a href="#cb3-96" aria-hidden="true" tabindex="-1"></a>    <span class="at">center =</span> <span class="fu">midpoint</span>(S2read, <span class="at">position =</span> .<span class="dv">6</span>),</span>
<span id="cb3-97"><a href="#cb3-97" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">my_coefficient_label</span>(<span class="st">"*b*~1*jk*~"</span>, <span class="at">color =</span> my_color_dark[<span class="dv">2</span>]))} <span class="sc">+</span></span>
<span id="cb3-98"><a href="#cb3-98" aria-hidden="true" tabindex="-1"></a>  {i_1 <span class="ot">&lt;-</span> <span class="fu">my_intercept</span>(<span class="at">label =</span> <span class="fu">ob_label</span>(</span>
<span id="cb3-99"><a href="#cb3-99" aria-hidden="true" tabindex="-1"></a>    <span class="st">"1~1~"</span>, </span>
<span id="cb3-100"><a href="#cb3-100" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="cn">NA</span>,</span>
<span id="cb3-101"><a href="#cb3-101" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> my_color_dark[<span class="dv">1</span>])) <span class="sc">%&gt;%</span> </span>
<span id="cb3-102"><a href="#cb3-102" aria-hidden="true" tabindex="-1"></a>    <span class="fu">place</span>(S, <span class="st">"above"</span>, <span class="fl">3.5</span>)} <span class="sc">+</span></span>
<span id="cb3-103"><a href="#cb3-103" aria-hidden="true" tabindex="-1"></a>  {i12read <span class="ot">&lt;-</span> <span class="fu">my_path</span>(i_1<span class="sc">@</span>vertices[<span class="dv">3</span>], read, <span class="at">color =</span> my_color_light[<span class="dv">1</span>])} <span class="sc">+</span></span>
<span id="cb3-104"><a href="#cb3-104" aria-hidden="true" tabindex="-1"></a>  {b_0jk <span class="ot">&lt;-</span> <span class="fu">my_coefficient</span>(</span>
<span id="cb3-105"><a href="#cb3-105" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> my_color_light[<span class="dv">2</span>],</span>
<span id="cb3-106"><a href="#cb3-106" aria-hidden="true" tabindex="-1"></a>    <span class="at">center =</span> <span class="fu">midpoint</span>(i12read, <span class="at">position =</span> .<span class="dv">15</span>),</span>
<span id="cb3-107"><a href="#cb3-107" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span>  <span class="fu">my_coefficient_label</span>(<span class="st">"*b*~0*jk*~"</span>, <span class="at">color =</span> my_color_dark[<span class="dv">2</span>]))} <span class="sc">+</span></span>
<span id="cb3-108"><a href="#cb3-108" aria-hidden="true" tabindex="-1"></a>  {i_2 <span class="ot">&lt;-</span> <span class="fu">my_intercept</span>(</span>
<span id="cb3-109"><a href="#cb3-109" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> my_color_light[<span class="dv">2</span>],</span>
<span id="cb3-110"><a href="#cb3-110" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">ob_label</span>(</span>
<span id="cb3-111"><a href="#cb3-111" aria-hidden="true" tabindex="-1"></a>    <span class="st">"1~2~"</span>,</span>
<span id="cb3-112"><a href="#cb3-112" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="cn">NA</span>,</span>
<span id="cb3-113"><a href="#cb3-113" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> my_color_dark[<span class="dv">2</span>])) <span class="sc">%&gt;%</span> </span>
<span id="cb3-114"><a href="#cb3-114" aria-hidden="true" tabindex="-1"></a>    <span class="fu">place</span>(b_1jk, <span class="fu">degree</span>(<span class="dv">90</span>), <span class="dv">9</span>)} <span class="sc">+</span></span>
<span id="cb3-115"><a href="#cb3-115" aria-hidden="true" tabindex="-1"></a>  {i22b0jk <span class="ot">&lt;-</span> <span class="fu">my_path</span>(</span>
<span id="cb3-116"><a href="#cb3-116" aria-hidden="true" tabindex="-1"></a>      i_2,</span>
<span id="cb3-117"><a href="#cb3-117" aria-hidden="true" tabindex="-1"></a>      b_0jk,</span>
<span id="cb3-118"><a href="#cb3-118" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> my_color_light[<span class="dv">2</span>])} <span class="sc">+</span></span>
<span id="cb3-119"><a href="#cb3-119" aria-hidden="true" tabindex="-1"></a>  {b_00k <span class="ot">&lt;-</span> <span class="fu">my_coefficient</span>(<span class="at">center =</span> <span class="fu">midpoint</span>(i22b0jk, <span class="at">position =</span> .<span class="dv">39</span>),</span>
<span id="cb3-120"><a href="#cb3-120" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> <span class="fu">my_coefficient_label</span>(<span class="st">"*b*~00*k*~"</span>))} <span class="sc">+</span></span>
<span id="cb3-121"><a href="#cb3-121" aria-hidden="true" tabindex="-1"></a>  {i22b0jk <span class="ot">&lt;-</span> <span class="fu">my_path</span>(</span>
<span id="cb3-122"><a href="#cb3-122" aria-hidden="true" tabindex="-1"></a>      i_2,</span>
<span id="cb3-123"><a href="#cb3-123" aria-hidden="true" tabindex="-1"></a>      b_1jk,</span>
<span id="cb3-124"><a href="#cb3-124" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> my_color_light[<span class="dv">2</span>])} <span class="sc">+</span></span>
<span id="cb3-125"><a href="#cb3-125" aria-hidden="true" tabindex="-1"></a>  {T_jk <span class="ot">&lt;-</span> <span class="fu">my_observed</span>(<span class="at">label =</span> <span class="fu">my_observed_label</span>(<span class="st">"*Teacher*~jk~"</span>, <span class="at">color =</span> my_color_dark[<span class="dv">2</span>]), <span class="at">fill =</span> my_color_light[<span class="dv">2</span>]) <span class="sc">%&gt;%</span> <span class="fu">place</span>(b_0jk, <span class="st">"right"</span>, <span class="fl">7.5</span>) } <span class="sc">+</span></span>
<span id="cb3-126"><a href="#cb3-126" aria-hidden="true" tabindex="-1"></a>  {T2b0jk <span class="ot">&lt;-</span> <span class="fu">my_path</span>(T_jk, b_0jk, <span class="at">color =</span> my_color_light[<span class="dv">2</span>])} <span class="sc">+</span></span>
<span id="cb3-127"><a href="#cb3-127" aria-hidden="true" tabindex="-1"></a>  {T2b1jk <span class="ot">&lt;-</span> <span class="fu">my_path</span>(T_jk, b_1jk, <span class="at">color =</span> my_color_light[<span class="dv">2</span>])} <span class="sc">+</span></span>
<span id="cb3-128"><a href="#cb3-128" aria-hidden="true" tabindex="-1"></a>  {b_11k <span class="ot">&lt;-</span> <span class="fu">my_coefficient</span>(</span>
<span id="cb3-129"><a href="#cb3-129" aria-hidden="true" tabindex="-1"></a>    <span class="at">center =</span> <span class="fu">midpoint</span>(T2b1jk, <span class="at">position =</span> .<span class="dv">25</span>), </span>
<span id="cb3-130"><a href="#cb3-130" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">my_coefficient_label</span>(<span class="st">"*b*~11*k*~"</span>))} <span class="sc">+</span></span>
<span id="cb3-131"><a href="#cb3-131" aria-hidden="true" tabindex="-1"></a>  {b_01k <span class="ot">&lt;-</span> <span class="fu">my_coefficient</span>(<span class="at">center =</span> <span class="fu">intersection</span>(T2b0jk, <span class="fu">ob_segment</span>(b_00k<span class="sc">@</span>center, b_11k<span class="sc">@</span>center)),</span>
<span id="cb3-132"><a href="#cb3-132" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> <span class="fu">my_coefficient_label</span>(<span class="st">"*b*~01*k*~"</span>))} <span class="sc">+</span></span>
<span id="cb3-133"><a href="#cb3-133" aria-hidden="true" tabindex="-1"></a>  {b_10k <span class="ot">&lt;-</span> <span class="fu">my_coefficient</span>(<span class="at">center =</span> <span class="fu">intersection</span>(i22b0jk, <span class="fu">ob_segment</span>(b_00k<span class="sc">@</span>center, b_11k<span class="sc">@</span>center)),</span>
<span id="cb3-134"><a href="#cb3-134" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> <span class="fu">my_coefficient_label</span>(<span class="st">"*b*~10*k*~"</span>))} <span class="sc">+</span></span>
<span id="cb3-135"><a href="#cb3-135" aria-hidden="true" tabindex="-1"></a>  {P_k <span class="ot">&lt;-</span> <span class="fu">my_observed</span>(<span class="at">label =</span> <span class="fu">my_observed_label</span>(<span class="st">"*Principal*~k~"</span>, <span class="at">color =</span> my_color_dark[<span class="dv">3</span>]), <span class="at">fill =</span> my_color_light[<span class="dv">3</span>]) <span class="sc">%&gt;%</span> <span class="fu">place</span>(b_10k, <span class="st">"right"</span>, <span class="fl">4.5</span>) } <span class="sc">+</span></span>
<span id="cb3-136"><a href="#cb3-136" aria-hidden="true" tabindex="-1"></a>  {i_3 <span class="ot">&lt;-</span> <span class="fu">my_intercept</span>(</span>
<span id="cb3-137"><a href="#cb3-137" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> my_color_light[<span class="dv">3</span>],</span>
<span id="cb3-138"><a href="#cb3-138" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">ob_label</span>(</span>
<span id="cb3-139"><a href="#cb3-139" aria-hidden="true" tabindex="-1"></a>    <span class="st">"1~3~"</span>, </span>
<span id="cb3-140"><a href="#cb3-140" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="cn">NA</span>,</span>
<span id="cb3-141"><a href="#cb3-141" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> my_color_dark[<span class="dv">3</span>])) <span class="sc">%&gt;%</span> </span>
<span id="cb3-142"><a href="#cb3-142" aria-hidden="true" tabindex="-1"></a>    <span class="fu">place</span>(P_k, <span class="fu">degree</span>(<span class="dv">120</span>), <span class="dv">2</span>)} <span class="sc">+</span></span>
<span id="cb3-143"><a href="#cb3-143" aria-hidden="true" tabindex="-1"></a>  {i32b00k <span class="ot">&lt;-</span> <span class="fu">my_path</span>(</span>
<span id="cb3-144"><a href="#cb3-144" aria-hidden="true" tabindex="-1"></a>    i_3, </span>
<span id="cb3-145"><a href="#cb3-145" aria-hidden="true" tabindex="-1"></a>    b_00k, </span>
<span id="cb3-146"><a href="#cb3-146" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">my_path_label</span>(<span class="st">"*b*~000~"</span>, <span class="at">position =</span> .<span class="dv">35</span>))} <span class="sc">+</span></span>
<span id="cb3-147"><a href="#cb3-147" aria-hidden="true" tabindex="-1"></a>  {i32b10k <span class="ot">&lt;-</span> <span class="fu">my_path</span>(</span>
<span id="cb3-148"><a href="#cb3-148" aria-hidden="true" tabindex="-1"></a>    i_3, </span>
<span id="cb3-149"><a href="#cb3-149" aria-hidden="true" tabindex="-1"></a>    b_10k, </span>
<span id="cb3-150"><a href="#cb3-150" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">my_path_label</span>(<span class="st">"*b*~100~"</span>, <span class="at">position =</span> .<span class="dv">33</span>))} <span class="sc">+</span></span>
<span id="cb3-151"><a href="#cb3-151" aria-hidden="true" tabindex="-1"></a>  {i32b01k <span class="ot">&lt;-</span> <span class="fu">my_path</span>(</span>
<span id="cb3-152"><a href="#cb3-152" aria-hidden="true" tabindex="-1"></a>    i_3, </span>
<span id="cb3-153"><a href="#cb3-153" aria-hidden="true" tabindex="-1"></a>    b_01k, </span>
<span id="cb3-154"><a href="#cb3-154" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">my_path_label</span>(<span class="st">"*b*~010~"</span>, <span class="at">position =</span> .<span class="dv">32</span>))} <span class="sc">+</span></span>
<span id="cb3-155"><a href="#cb3-155" aria-hidden="true" tabindex="-1"></a>  {i32b11k <span class="ot">&lt;-</span> <span class="fu">my_path</span>(</span>
<span id="cb3-156"><a href="#cb3-156" aria-hidden="true" tabindex="-1"></a>    i_3, </span>
<span id="cb3-157"><a href="#cb3-157" aria-hidden="true" tabindex="-1"></a>    b_11k, </span>
<span id="cb3-158"><a href="#cb3-158" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">my_path_label</span>(<span class="st">"*b*~110~"</span>, <span class="at">position =</span> .<span class="dv">31</span>))} <span class="sc">+</span></span>
<span id="cb3-159"><a href="#cb3-159" aria-hidden="true" tabindex="-1"></a>  {Pk2b00k <span class="ot">&lt;-</span> <span class="fu">my_path</span>(</span>
<span id="cb3-160"><a href="#cb3-160" aria-hidden="true" tabindex="-1"></a>    P_k, </span>
<span id="cb3-161"><a href="#cb3-161" aria-hidden="true" tabindex="-1"></a>    b_00k, </span>
<span id="cb3-162"><a href="#cb3-162" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">my_path_label</span>(<span class="st">"*b*~001~"</span>, <span class="at">position =</span> .<span class="dv">5</span>))} <span class="sc">+</span></span>
<span id="cb3-163"><a href="#cb3-163" aria-hidden="true" tabindex="-1"></a>  {Pk2b10k <span class="ot">&lt;-</span> <span class="fu">my_path</span>(</span>
<span id="cb3-164"><a href="#cb3-164" aria-hidden="true" tabindex="-1"></a>    P_k, </span>
<span id="cb3-165"><a href="#cb3-165" aria-hidden="true" tabindex="-1"></a>    b_10k, </span>
<span id="cb3-166"><a href="#cb3-166" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">my_path_label</span>(<span class="st">"*b*~101~"</span>, <span class="at">position =</span> .<span class="dv">62</span>))} <span class="sc">+</span></span>
<span id="cb3-167"><a href="#cb3-167" aria-hidden="true" tabindex="-1"></a>  {Pk2b01k <span class="ot">&lt;-</span> <span class="fu">my_path</span>(</span>
<span id="cb3-168"><a href="#cb3-168" aria-hidden="true" tabindex="-1"></a>    P_k,</span>
<span id="cb3-169"><a href="#cb3-169" aria-hidden="true" tabindex="-1"></a>    b_01k, </span>
<span id="cb3-170"><a href="#cb3-170" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">my_path_label</span>(<span class="st">"*b*~011~"</span>, <span class="at">position =</span> .<span class="dv">65</span>))} <span class="sc">+</span></span>
<span id="cb3-171"><a href="#cb3-171" aria-hidden="true" tabindex="-1"></a>  {Pk2b11k <span class="ot">&lt;-</span> <span class="fu">my_path</span>(</span>
<span id="cb3-172"><a href="#cb3-172" aria-hidden="true" tabindex="-1"></a>    P_k, </span>
<span id="cb3-173"><a href="#cb3-173" aria-hidden="true" tabindex="-1"></a>    b_11k, </span>
<span id="cb3-174"><a href="#cb3-174" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">my_path_label</span>(<span class="st">"*b*~111~"</span>, <span class="at">position =</span> .<span class="dv">45</span>))} <span class="sc">+</span></span>
<span id="cb3-175"><a href="#cb3-175" aria-hidden="true" tabindex="-1"></a>  {e_ijk <span class="ot">&lt;-</span> <span class="fu">my_error</span>(<span class="at">label =</span> <span class="fu">ob_label</span>(<span class="st">"*e*~*ijk*~"</span>, <span class="at">color =</span> my_color_dark[<span class="dv">1</span>], <span class="at">fill =</span> <span class="cn">NA</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-176"><a href="#cb3-176" aria-hidden="true" tabindex="-1"></a>    <span class="fu">place</span>(read, <span class="st">"right"</span>, .<span class="dv">6</span>)} <span class="sc">+</span></span>
<span id="cb3-177"><a href="#cb3-177" aria-hidden="true" tabindex="-1"></a>  <span class="fu">my_path</span>(e_ijk, read, <span class="at">color =</span> my_color_light[<span class="dv">1</span>]) <span class="sc">+</span></span>
<span id="cb3-178"><a href="#cb3-178" aria-hidden="true" tabindex="-1"></a>  {e_ijk_var <span class="ot">&lt;-</span> <span class="fu">my_error_variance</span>(e_ijk, <span class="at">color =</span> my_color_light[<span class="dv">1</span>], <span class="at">label =</span> <span class="fu">my_residual_variance_label</span>(<span class="st">"&amp;tau;~1~"</span>, <span class="at">color =</span> my_color_light[<span class="dv">1</span>]))} <span class="sc">+</span></span>
<span id="cb3-179"><a href="#cb3-179" aria-hidden="true" tabindex="-1"></a>  {e_0jk <span class="ot">&lt;-</span> <span class="fu">my_residual</span>(<span class="at">label =</span> <span class="fu">my_residual_label</span>(<span class="st">"*e*~0*jk*~"</span>, <span class="at">color =</span> my_color_dark[<span class="dv">2</span>]), <span class="at">fill =</span> my_color_light[<span class="dv">2</span>]) <span class="sc">%&gt;%</span> </span>
<span id="cb3-180"><a href="#cb3-180" aria-hidden="true" tabindex="-1"></a>    <span class="fu">place</span>(b_0jk, <span class="fu">degree</span>(<span class="dv">225</span>), .<span class="dv">6</span>)} <span class="sc">+</span></span>
<span id="cb3-181"><a href="#cb3-181" aria-hidden="true" tabindex="-1"></a>  <span class="fu">my_residual_variance</span>(</span>
<span id="cb3-182"><a href="#cb3-182" aria-hidden="true" tabindex="-1"></a>    e_0jk,</span>
<span id="cb3-183"><a href="#cb3-183" aria-hidden="true" tabindex="-1"></a>    <span class="fu">degree</span>(<span class="dv">225</span>),</span>
<span id="cb3-184"><a href="#cb3-184" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> my_color_light[<span class="dv">2</span>],</span>
<span id="cb3-185"><a href="#cb3-185" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">my_residual_variance_label</span>(<span class="st">"*&amp;tau;*&lt;sub&gt;2.00&lt;/sub&gt;"</span>, <span class="at">color =</span> my_color[<span class="dv">2</span>])</span>
<span id="cb3-186"><a href="#cb3-186" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb3-187"><a href="#cb3-187" aria-hidden="true" tabindex="-1"></a>  <span class="fu">my_path</span>(e_0jk, b_0jk, <span class="at">color =</span> my_color_light[<span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb3-188"><a href="#cb3-188" aria-hidden="true" tabindex="-1"></a>  {e_1jk <span class="ot">&lt;-</span> <span class="fu">my_residual</span>(<span class="at">label =</span> <span class="fu">my_residual_label</span>(<span class="st">"*e*~1*jk*~"</span>, <span class="at">color =</span> my_color_dark[<span class="dv">2</span>]), <span class="at">fill =</span> my_color_light[<span class="dv">2</span>]) <span class="sc">%&gt;%</span> </span>
<span id="cb3-189"><a href="#cb3-189" aria-hidden="true" tabindex="-1"></a>    <span class="fu">place</span>(b_1jk, <span class="fu">degree</span>(<span class="dv">225</span>), .<span class="dv">6</span>)} <span class="sc">+</span></span>
<span id="cb3-190"><a href="#cb3-190" aria-hidden="true" tabindex="-1"></a>  <span class="fu">my_residual_variance</span>(</span>
<span id="cb3-191"><a href="#cb3-191" aria-hidden="true" tabindex="-1"></a>    e_1jk,</span>
<span id="cb3-192"><a href="#cb3-192" aria-hidden="true" tabindex="-1"></a>    <span class="fu">degree</span>(<span class="dv">225</span>),</span>
<span id="cb3-193"><a href="#cb3-193" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> my_color_light[<span class="dv">2</span>],</span>
<span id="cb3-194"><a href="#cb3-194" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">my_residual_variance_label</span>(<span class="st">"*&amp;tau;*&lt;sub&gt;2.11&lt;/sub&gt;"</span>, <span class="at">color =</span> my_color[<span class="dv">2</span>])</span>
<span id="cb3-195"><a href="#cb3-195" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb3-196"><a href="#cb3-196" aria-hidden="true" tabindex="-1"></a>  <span class="fu">my_path</span>(e_1jk, b_1jk, <span class="at">color =</span> my_color_light[<span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb3-197"><a href="#cb3-197" aria-hidden="true" tabindex="-1"></a>  {e_00k <span class="ot">&lt;-</span> <span class="fu">my_residual</span>(<span class="at">label =</span> <span class="fu">my_residual_label</span>(<span class="st">"*e*~00*k*~"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-198"><a href="#cb3-198" aria-hidden="true" tabindex="-1"></a>    <span class="fu">place</span>(b_00k, <span class="fu">degree</span>(<span class="dv">135</span>), .<span class="dv">6</span>)} <span class="sc">+</span></span>
<span id="cb3-199"><a href="#cb3-199" aria-hidden="true" tabindex="-1"></a>  <span class="fu">my_residual_variance</span>(</span>
<span id="cb3-200"><a href="#cb3-200" aria-hidden="true" tabindex="-1"></a>    e_00k,</span>
<span id="cb3-201"><a href="#cb3-201" aria-hidden="true" tabindex="-1"></a>    <span class="fu">degree</span>(<span class="dv">135</span>),</span>
<span id="cb3-202"><a href="#cb3-202" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">my_residual_variance_label</span>(<span class="st">"*&amp;tau;*&lt;sub&gt;3.00&lt;/sub&gt;"</span>)</span>
<span id="cb3-203"><a href="#cb3-203" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb3-204"><a href="#cb3-204" aria-hidden="true" tabindex="-1"></a>  <span class="fu">my_path</span>(e_00k, b_00k) <span class="sc">+</span></span>
<span id="cb3-205"><a href="#cb3-205" aria-hidden="true" tabindex="-1"></a>  {e_10k <span class="ot">&lt;-</span> <span class="fu">my_residual</span>(<span class="at">label =</span> <span class="fu">my_residual_label</span>(<span class="st">"*e*~10*k*~"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-206"><a href="#cb3-206" aria-hidden="true" tabindex="-1"></a>    <span class="fu">place</span>(b_10k, <span class="fu">degree</span>(<span class="dv">225</span>), .<span class="dv">6</span>)} <span class="sc">+</span></span>
<span id="cb3-207"><a href="#cb3-207" aria-hidden="true" tabindex="-1"></a>  <span class="fu">my_residual_variance</span>(</span>
<span id="cb3-208"><a href="#cb3-208" aria-hidden="true" tabindex="-1"></a>    e_10k,</span>
<span id="cb3-209"><a href="#cb3-209" aria-hidden="true" tabindex="-1"></a>    <span class="fu">degree</span>(<span class="dv">225</span>),</span>
<span id="cb3-210"><a href="#cb3-210" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">my_residual_variance_label</span>(<span class="st">"*&amp;tau;*&lt;sub&gt;3.22&lt;/sub&gt;"</span>)</span>
<span id="cb3-211"><a href="#cb3-211" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb3-212"><a href="#cb3-212" aria-hidden="true" tabindex="-1"></a>  <span class="fu">my_path</span>(e_10k, b_10k) <span class="sc">+</span></span>
<span id="cb3-213"><a href="#cb3-213" aria-hidden="true" tabindex="-1"></a>  {e_01k <span class="ot">&lt;-</span> <span class="fu">my_residual</span>(<span class="at">label =</span> <span class="fu">my_residual_label</span>(<span class="st">"*e*~01*k*~"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-214"><a href="#cb3-214" aria-hidden="true" tabindex="-1"></a>    <span class="fu">place</span>(b_01k, <span class="fu">degree</span>(<span class="dv">225</span>), .<span class="dv">6</span>)} <span class="sc">+</span></span>
<span id="cb3-215"><a href="#cb3-215" aria-hidden="true" tabindex="-1"></a>  <span class="fu">my_residual_variance</span>(</span>
<span id="cb3-216"><a href="#cb3-216" aria-hidden="true" tabindex="-1"></a>    e_01k,</span>
<span id="cb3-217"><a href="#cb3-217" aria-hidden="true" tabindex="-1"></a>    <span class="fu">degree</span>(<span class="dv">225</span>),</span>
<span id="cb3-218"><a href="#cb3-218" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">my_residual_variance_label</span>(<span class="st">"*&amp;tau;*&lt;sub&gt;3.11&lt;/sub&gt;"</span>)</span>
<span id="cb3-219"><a href="#cb3-219" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb3-220"><a href="#cb3-220" aria-hidden="true" tabindex="-1"></a>  <span class="fu">my_path</span>(e_01k, b_01k) <span class="sc">+</span></span>
<span id="cb3-221"><a href="#cb3-221" aria-hidden="true" tabindex="-1"></a>  {e_11k <span class="ot">&lt;-</span> <span class="fu">my_residual</span>(<span class="at">label =</span> <span class="fu">my_residual_label</span>(<span class="st">"*e*~11*k*~"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-222"><a href="#cb3-222" aria-hidden="true" tabindex="-1"></a>    <span class="fu">place</span>(b_11k, <span class="fu">degree</span>(<span class="sc">-</span><span class="dv">45</span>), .<span class="dv">6</span>)} <span class="sc">+</span></span>
<span id="cb3-223"><a href="#cb3-223" aria-hidden="true" tabindex="-1"></a>  <span class="fu">my_residual_variance</span>(</span>
<span id="cb3-224"><a href="#cb3-224" aria-hidden="true" tabindex="-1"></a>    e_11k,</span>
<span id="cb3-225"><a href="#cb3-225" aria-hidden="true" tabindex="-1"></a>    <span class="fu">degree</span>(<span class="sc">-</span><span class="dv">45</span>),</span>
<span id="cb3-226"><a href="#cb3-226" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">my_residual_variance_label</span>(<span class="st">"*&amp;tau;*&lt;sub&gt;3.33&lt;/sub&gt;"</span>)</span>
<span id="cb3-227"><a href="#cb3-227" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb3-228"><a href="#cb3-228" aria-hidden="true" tabindex="-1"></a>  <span class="fu">my_path</span>(e_11k, b_11k) <span class="sc">+</span></span>
<span id="cb3-229"><a href="#cb3-229" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ob_covariance</span>(</span>
<span id="cb3-230"><a href="#cb3-230" aria-hidden="true" tabindex="-1"></a>    e_0jk<span class="sc">@</span><span class="fu">point_at</span>(<span class="st">"east"</span>),</span>
<span id="cb3-231"><a href="#cb3-231" aria-hidden="true" tabindex="-1"></a>    e_1jk<span class="sc">@</span><span class="fu">point_at</span>(<span class="st">"north"</span>),</span>
<span id="cb3-232"><a href="#cb3-232" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">my_path_label</span>(<span class="st">"*&amp;tau;*&lt;sub&gt;2.10&lt;/sub&gt;"</span>, <span class="at">position =</span> .<span class="dv">5</span>),</span>
<span id="cb3-233"><a href="#cb3-233" aria-hidden="true" tabindex="-1"></a>    <span class="at">length_head =</span> <span class="dv">5</span>,</span>
<span id="cb3-234"><a href="#cb3-234" aria-hidden="true" tabindex="-1"></a>    <span class="at">length_fins =</span> <span class="dv">5</span>,</span>
<span id="cb3-235"><a href="#cb3-235" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> .<span class="dv">5</span>, </span>
<span id="cb3-236"><a href="#cb3-236" aria-hidden="true" tabindex="-1"></a>    <span class="at">looseness =</span> <span class="dv">1</span>,</span>
<span id="cb3-237"><a href="#cb3-237" aria-hidden="true" tabindex="-1"></a>    <span class="at">bend =</span> <span class="sc">-</span><span class="dv">6</span>,</span>
<span id="cb3-238"><a href="#cb3-238" aria-hidden="true" tabindex="-1"></a>    <span class="at">resect =</span> <span class="dv">1</span>,</span>
<span id="cb3-239"><a href="#cb3-239" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> my_color_light[<span class="dv">2</span>]</span>
<span id="cb3-240"><a href="#cb3-240" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb3-241"><a href="#cb3-241" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ob_covariance</span>(</span>
<span id="cb3-242"><a href="#cb3-242" aria-hidden="true" tabindex="-1"></a>    e_01k<span class="sc">@</span><span class="fu">point_at</span>(<span class="st">"west"</span>),</span>
<span id="cb3-243"><a href="#cb3-243" aria-hidden="true" tabindex="-1"></a>    e_00k<span class="sc">@</span><span class="fu">point_at</span>(<span class="dv">265</span>),</span>
<span id="cb3-244"><a href="#cb3-244" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">my_path_label</span>(<span class="st">"*&amp;tau;*&lt;sub&gt;3.10&lt;/sub&gt;"</span>, <span class="at">position =</span> .<span class="dv">75</span>),</span>
<span id="cb3-245"><a href="#cb3-245" aria-hidden="true" tabindex="-1"></a>    <span class="at">length_head =</span> <span class="dv">5</span>,</span>
<span id="cb3-246"><a href="#cb3-246" aria-hidden="true" tabindex="-1"></a>    <span class="at">length_fins =</span> <span class="dv">5</span>,</span>
<span id="cb3-247"><a href="#cb3-247" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> .<span class="dv">5</span>, </span>
<span id="cb3-248"><a href="#cb3-248" aria-hidden="true" tabindex="-1"></a>    <span class="at">looseness =</span> <span class="dv">1</span>,</span>
<span id="cb3-249"><a href="#cb3-249" aria-hidden="true" tabindex="-1"></a>    <span class="at">bend =</span> <span class="dv">6</span>,</span>
<span id="cb3-250"><a href="#cb3-250" aria-hidden="true" tabindex="-1"></a>    <span class="at">resect =</span> <span class="dv">1</span>,</span>
<span id="cb3-251"><a href="#cb3-251" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> my_color_light[<span class="dv">3</span>]</span>
<span id="cb3-252"><a href="#cb3-252" aria-hidden="true" tabindex="-1"></a>  ) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="multilevel3_files/figure-html/ggdiagramcode-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="import-data-and-transform-variables" class="level1">
<h1>Import Data and Transform Variables</h1>
<p>Here we import the data using <code>read_csv</code>, then we convert the L2 identifier variable <code>id_classroom</code> and the L3 identifier variable <code>id_school</code> into factors. At this point we would normally center our predictors. However, our engagement predictors are measured in hours, which is a ratio-level variable. In ratio variables, 0 indicates the absence of the quantity being measured. The whole point of centering variables is, if you can forgive the pun, to make zero <em>mean</em>ingful (i.e., 0 = mean). Here, the 0 already has a clear meaning (0 = no engagement), and thus we need not transform the predictors.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://github.com/wjschne/EDUC5529/raw/master/hw5_three_level.csv"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id_classroom =</span> <span class="fu">factor</span>(id_classroom),</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">id_school =</span> <span class="fu">factor</span>(id_school))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="null-models" class="level1">
<h1>Null Models</h1>
</section>
<section id="level-fixed-intercept-model" class="level1">
<h1>1-Level Fixed Intercept Model</h1>
<p>This is not much of a model. We use this model solely as a null hypothesis against which to contrast the next model. It posits an overall fixed intercept, <span class="math inline">\(b_{000}\)</span>, and every person deviates from it.</p>
<p><span class="math display">\[
Reading_{ijk}=\underbrace{\underbrace{b_{000}}_{b_{00k}}}_{b_{0jk}}+e_{ijk}
\]</span></p>
</section>
<section id="level-random-intercept-model" class="level1">
<h1>2-Level Random Intercept Model</h1>
<p>In this model, each class has an intercept, <span class="math inline">\(b_{0jk}\)</span>. It posits an overall fixed intercept, <span class="math inline">\(b_{000}\)</span>, and every person deviates from it.</p>
<p><span class="math display">\[
Reading_{ijk}=\underbrace{\underbrace{b_{000}}_{b_{00k}}+e_{0jk}}_{b_{0jk}}+e_{ijk}
\]</span></p>
</section>
<section id="level-random-intercept-model-1" class="level1">
<h1>3-Level Random Intercept Model</h1>
<p><span class="math display">\[
Reading_{ijk}=\underbrace{\underbrace{b_{000}+e_{00k}}_{b_{00k}}+e_{0jk}}_{b_{0jk}}+e_{ijk}
\]</span></p>
<p>We can test to see if there is sufficient variability in Reading at level 2 and at level three to justify a level-2 and/or level-3 model.</p>
<p>In the code below, we create a level-1 null model with the <code>lm</code> function, specifying just a a fixed intercept. Then we specify a level-2 null model with just classroom intercepts and a level-3 null model with classroom and school intercepts.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Level-1 null model</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>m_null_1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(reading <span class="sc">~</span> <span class="dv">1</span>, <span class="at">data =</span> d)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Level-2 null model</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>m_null_2 <span class="ot">&lt;-</span> <span class="fu">lmer</span>(reading <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> id_classroom), <span class="at">data =</span> d)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(m_null_2)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML ['lmerMod']
Formula: reading ~ 1 + (1 | id_classroom)
   Data: d

REML criterion at convergence: 104515

Scaled residuals: 
   Min     1Q Median     3Q    Max 
-3.782 -0.638 -0.040  0.594  6.240 

Random effects:
 Groups       Name        Variance Std.Dev.
 id_classroom (Intercept) 191      13.8    
 Residual                 312      17.7    
Number of obs: 11914, groups:  id_classroom, 1191

Fixed effects:
            Estimate Std. Error t value
(Intercept)  116.363      0.435     268</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Level-2 null model</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>m_null_3 <span class="ot">&lt;-</span> <span class="fu">lmer</span>(reading <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> id_classroom) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> id_school), d)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(m_null_3)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML ['lmerMod']
Formula: reading ~ 1 + (1 | id_classroom) + (1 | id_school)
   Data: d

REML criterion at convergence: 104107

Scaled residuals: 
   Min     1Q Median     3Q    Max 
-3.796 -0.640 -0.042  0.587  6.430 

Random effects:
 Groups       Name        Variance Std.Dev.
 id_classroom (Intercept) 105.2    10.26   
 id_school    (Intercept)  89.3     9.45   
 Residual                 312.0    17.66   
Number of obs: 11914, groups:  id_classroom, 1191; id_school, 60

Fixed effects:
            Estimate Std. Error t value
(Intercept)   116.19       1.27    91.5</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare both null models</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># This will fail if m_null_1 is listed first.</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Set refit to FALSE because we are comparing models with different random effects</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(m_null_3, m_null_2, m_null_1, <span class="at">refit =</span> <span class="cn">FALSE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Data: d
Models:
m_null_1: reading ~ 1
m_null_2: reading ~ 1 + (1 | id_classroom)
m_null_3: reading ~ 1 + (1 | id_classroom) + (1 | id_school)
         npar    AIC    BIC logLik deviance Chisq Df Pr(&gt;Chisq)    
m_null_1    2 107884 107898 -53940   107880                        
m_null_2    3 104521 104543 -52257   104515  3365  1     &lt;2e-16 ***
m_null_3    4 104115 104144 -52053   104107   408  1     &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>We can see in the <code>Pr(&gt;Chisq)</code> column that the difference is significant for both comparisons, meaning that the level-2 and level-3 models are justified.</p>
<section id="check-assumptions" class="level2">
<h2 class="anchored" data-anchor-id="check-assumptions">Check Assumptions</h2>
<p>The normality assumption holds at all levels. That is, all random variables, at all levels, should be normal.</p>
<p>First, let’s just look at the density plot:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">check_model</span>(m_null_3)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="multilevel3_files/figure-html/checknull-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>The level-2 and level-3 intercepts look a little positively skewed. However, this level of non-normality is not usually fatal to the model.</p>
<p>Lets check the assumptions again after we have added our fixed effects to the model.</p>
</section>
</section>
<section id="fixed-effects-models" class="level1 page-columns page-full">
<h1>Fixed-Effects Models</h1>
<section id="level-1-predictors" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="level-1-predictors">Level 1 Predictors</h2>
<p>Let’s add our L1 predictor first.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>m_1_L1fixed <span class="ot">&lt;-</span> <span class="fu">update</span>(m_null_3, . <span class="sc">~</span> .  <span class="sc">+</span> engagement_student)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>First, we need a new function that will compute variance reduction.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Warning</span>Warning!
</div>
</div>
<div class="callout-body-container callout-body">
<p>Variance reduction does not always behave as it does in ordinary least squares. Think carefully about what is happening. Sometimes the variance reduction will be negative, meaning that the new variances are larger than the old variances. This does not necessarily mean that the new model is worse.</p>
<p>In general, do not interpret variance reduction when models have different random slopes structure <span class="citation" data-cites="mccoachMultilevelModelSelection2022">[@mccoachMultilevelModelSelection2022, 70]</span>.</p>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let's make a function that automates the process of computing variance reduction</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># This function will find which random components the 2 models have in common and compares them.</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Any non-shared variance components will be omitted.</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>variance_reduction <span class="ot">&lt;-</span> <span class="cf">function</span>(model_new, model_old) {</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bind_rows</span>(</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.data.frame</span>(<span class="fu">VarCorr</span>(model_new), <span class="at">order =</span> <span class="st">"lower.tri"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">model =</span> <span class="st">"New Model"</span>),</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.data.frame</span>(<span class="fu">VarCorr</span>(model_old), <span class="at">order =</span> <span class="st">"lower.tri"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">model =</span> <span class="st">"Old Model"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>sdcor) <span class="sc">%&gt;%</span> </span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">model =</span> <span class="fu">factor</span>(model, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"New Model"</span>, <span class="st">"Old Model"</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(grp, var1, var2, model) <span class="sc">%&gt;%</span> </span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(grp, var1, var2) <span class="sc">%&gt;%</span> </span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>n) <span class="sc">%&gt;%</span> </span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> model, <span class="at">values_from =</span> vcov) <span class="sc">%&gt;%</span> </span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unite</span>(term, var1, var2, <span class="at">na.rm =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Variance Reduction</span><span class="st">`</span> <span class="ot">=</span> (<span class="st">`</span><span class="at">Old Model</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">New Model</span><span class="st">`</span>) <span class="sc">/</span> <span class="st">`</span><span class="at">Old Model</span><span class="st">`</span>,</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>           <span class="at">term =</span> <span class="fu">ifelse</span>(grp <span class="sc">==</span> <span class="st">"Residual"</span>, <span class="st">"Level 1 Variance"</span>, term) <span class="sc">%&gt;%</span> </span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>             <span class="fu">str_replace</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">(Intercept</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">"Intercept"</span>)) </span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We are going to want a bunch of things every time we get a new model.</p>
<ol type="1">
<li>An assumption check plot (optional)</li>
<li>An automatic interpretation report</li>
<li>A summary of the model, preferably in a nice table</li>
<li>A plot of the fixed effects</li>
<li>A test of conditional slopes, if the model has interactions.</li>
<li>A statistical test of difference of the new model with a previous model</li>
<li>A statistical comparison of performance metrics from the new and previous models</li>
<li>Variance reduction statistics for the new model compared to a previous model</li>
</ol>
<p>The easiest way to get all this with only minimal fussing with code is to specify the old and new models each time like this:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>m_old <span class="ot">&lt;-</span> m_null_3</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>m_new <span class="ot">&lt;-</span> m_1_L1fixed</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>checkassumptions <span class="ot">=</span> <span class="cn">FALSE</span> <span class="co"># Set to TRUE if you want the check assumptions.</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Then run the following code:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check assumptions if checkassumptions is TRUE</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (checkassumptions) {</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  performance<span class="sc">::</span><span class="fu">check_model</span>(m_new)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Tabular display of new model</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>sjPlot<span class="sc">::</span><span class="fu">tab_model</span>(m_new, <span class="at">show.std =</span> <span class="cn">TRUE</span>)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Automated report of new model</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>report<span class="sc">::</span><span class="fu">report</span>(m_new, <span class="at">include_effectsize =</span> T) </span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot fixed effects in new model</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(insight<span class="sc">::</span><span class="fu">find_predictors</span>(m_new)<span class="sc">$</span>conditional)) {</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>  sjPlot<span class="sc">::</span><span class="fu">plot_model</span>(m_new, </span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>           <span class="at">type =</span> <span class="st">"pred"</span>, </span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>           <span class="at">title =</span> <span class="fu">deparse1</span>(<span class="fu">as.formula</span>(m_new)), </span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>           <span class="at">terms =</span> insight<span class="sc">::</span><span class="fu">find_predictors</span>(m_new)<span class="sc">$</span>conditional</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>           )</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Test simple slopes, if interactions are present</span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(insight<span class="sc">::</span><span class="fu">find_interactions</span>(m_new))) {</span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>  reghelper<span class="sc">::</span><span class="fu">reghelper</span>(m_new)</span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Test comparison</span></span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(m_old, m_new) <span class="sc">%&gt;%</span> </span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">gt</span>(<span class="at">caption =</span> <span class="st">"Test Model difference"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">fmt_number</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">sub_missing</span>(<span class="at">missing_text =</span> <span class="st">""</span>)</span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare fixed parameters with unstandardized (b) and standardized (beta) coefficients</span></span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a><span class="fu">tab_model</span>(m_old, m_new, </span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">"Model Comparison"</span>, </span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.std =</span> <span class="cn">TRUE</span>, </span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.ci =</span> <span class="cn">FALSE</span>, </span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.aic =</span> <span class="cn">TRUE</span>, </span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a>          <span class="at">string.est =</span> <span class="st">"b"</span>, </span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a>          <span class="at">string.std =</span> <span class="st">"&amp;beta;"</span>)</span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Variance reduction</span></span>
<span id="cb15-47"><a href="#cb15-47" aria-hidden="true" tabindex="-1"></a><span class="fu">variance_reduction</span>(m_new, m_old) <span class="sc">%&gt;%</span> </span>
<span id="cb15-48"><a href="#cb15-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gt</span>(<span class="at">caption =</span> <span class="st">"Variance Reduction"</span>) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>If you want an easy way to run a lot of code repeatedly without making a function, you can “re-use” a previous code chunk. This way, if you make changes, you do so in one location only. The chunk with re-usable code was called <code>compare2models</code>. We can run it again by enclosing the code chunk name in brackets like so:</p>
<pre><code>m_old &lt;- m_null_3
m_new &lt;- m_1_L1fixed
&lt;&lt;compare2models&gt;&gt;</code></pre>
<p>When rendered, this chunk will expand to have the <code>compare2models</code> code copied into the chunk like so:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>m_old <span class="ot">&lt;-</span> m_null_3</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>m_new <span class="ot">&lt;-</span> m_1_L1fixed</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Check assumptions if checkassumptions is TRUE</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (checkassumptions) {</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  performance<span class="sc">::</span><span class="fu">check_model</span>(m_new)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Tabular display of new model</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>sjPlot<span class="sc">::</span><span class="fu">tab_model</span>(m_new, <span class="at">show.std =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Automated report of new model</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>report<span class="sc">::</span><span class="fu">report</span>(m_new, <span class="at">include_effectsize =</span> T) </span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot fixed effects in new model</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(insight<span class="sc">::</span><span class="fu">find_predictors</span>(m_new)<span class="sc">$</span>conditional)) {</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  sjPlot<span class="sc">::</span><span class="fu">plot_model</span>(m_new, </span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>           <span class="at">type =</span> <span class="st">"pred"</span>, </span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>           <span class="at">title =</span> <span class="fu">deparse1</span>(<span class="fu">as.formula</span>(m_new)), </span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>           <span class="at">terms =</span> insight<span class="sc">::</span><span class="fu">find_predictors</span>(m_new)<span class="sc">$</span>conditional</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>           )</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Test simple slopes, if interactions are present</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(insight<span class="sc">::</span><span class="fu">find_interactions</span>(m_new))) {</span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>  reghelper<span class="sc">::</span><span class="fu">reghelper</span>(m_new)</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Test comparison</span></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(m_old, m_new) <span class="sc">%&gt;%</span> </span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">gt</span>(<span class="at">caption =</span> <span class="st">"Test Model difference"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">fmt_number</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">sub_missing</span>(<span class="at">missing_text =</span> <span class="st">""</span>)</span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare fixed parameters with unstandardized (b) and standardized (beta) coefficients</span></span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a><span class="fu">tab_model</span>(m_old, m_new, </span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">"Model Comparison"</span>, </span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.std =</span> <span class="cn">TRUE</span>, </span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.ci =</span> <span class="cn">FALSE</span>, </span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.aic =</span> <span class="cn">TRUE</span>, </span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a>          <span class="at">string.est =</span> <span class="st">"b"</span>, </span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a>          <span class="at">string.std =</span> <span class="st">"&amp;beta;"</span>)</span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Variance reduction</span></span>
<span id="cb17-49"><a href="#cb17-49" aria-hidden="true" tabindex="-1"></a><span class="fu">variance_reduction</span>(m_new, m_old) <span class="sc">%&gt;%</span> </span>
<span id="cb17-50"><a href="#cb17-50" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gt</span>(<span class="at">caption =</span> <span class="st">"Variance Reduction"</span>) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>However, this will give you a ton of output at once, which is fine for a rendered document but is cumbersome for interactive sessions. When you are first running the analyses, I recommend just copying the code and running the parts you want to see. Later, you can run the whole <code>compare2models</code> chunk for the rendered document, if desired.</p>
<p>Now let’s run the code and see what happens:</p>
<div class="cell page-columns page-full">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>m_old <span class="ot">&lt;-</span> m_null_3</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>m_new <span class="ot">&lt;-</span> m_1_L1fixed</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Check assumptions if checkassumptions is TRUE</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (checkassumptions) {</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  performance<span class="sc">::</span><span class="fu">check_model</span>(m_new)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Tabular display of new model</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>sjPlot<span class="sc">::</span><span class="fu">tab_model</span>(m_new, <span class="at">show.std =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<table style="border-collapse:collapse; border:none;">
<tbody><tr>
<th style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; ">&nbsp;</th>
<th colspan="5" style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; ">reading</th>
</tr>
<tr>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; ">Predictors</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">Estimates</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">std. Beta</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">CI</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">standardized CI</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">p</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">(Intercept)</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">108.51</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.00</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">105.97&nbsp;–&nbsp;111.04</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.11&nbsp;–&nbsp;0.11</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement student</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.90</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.35</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.75&nbsp;–&nbsp;4.05</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.33&nbsp;–&nbsp;0.36</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td colspan="6" style="font-weight:bold; text-align:left; padding-top:.8em;">Random Effects</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">σ<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">251.47</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>00</sub> <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">106.28</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>00</sub> <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">92.00</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">ICC</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">0.44</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">N <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">1191</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">N <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">60</td>
</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;">Observations</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;" colspan="5">11914</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">Marginal R<sup>2</sup> / Conditional R<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">0.118 / 0.507</td>
</tr>

</tbody></table>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Automated report of new model</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>report<span class="sc">::</span><span class="fu">report</span>(m_new, <span class="at">include_effectsize =</span> T) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>We fitted a linear mixed model (estimated using REML and nloptwrap optimizer)
to predict reading with engagement_student (formula: reading ~
engagement_student). The model included id_classroom as random effects
(formula: list(~1 | id_classroom, ~1 | id_school)). The model's total
explanatory power is substantial (conditional R2 = 0.51) and the part related
to the fixed effects alone (marginal R2) is of 0.12. The model's intercept,
corresponding to engagement_student = 0, is at 108.51 (95% CI [105.97, 111.04],
t(11909) = 83.85, p &lt; .001). Within this model:

  - The effect of engagement student is statistically significant and positive
(beta = 3.90, 95% CI [3.75, 4.05], t(11909) = 51.27, p &lt; .001; Std. beta =
0.35, 95% CI [0.33, 0.36])

Standardized parameters were obtained by fitting the model on a standardized
version of the dataset. 95% Confidence Intervals (CIs) and p-values were
computed using a Wald t-distribution approximation.</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot fixed effects in new model</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(insight<span class="sc">::</span><span class="fu">find_predictors</span>(m_new)<span class="sc">$</span>conditional)) {</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  sjPlot<span class="sc">::</span><span class="fu">plot_model</span>(m_new, </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">type =</span> <span class="st">"pred"</span>, </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">title =</span> <span class="fu">deparse1</span>(<span class="fu">as.formula</span>(m_new)), </span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">terms =</span> insight<span class="sc">::</span><span class="fu">find_predictors</span>(m_new)<span class="sc">$</span>conditional</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>           )</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="multilevel3_files/figure-html/L1fixedagain-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Test simple slopes, if interactions are present</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(insight<span class="sc">::</span><span class="fu">find_interactions</span>(m_new))) {</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  reghelper<span class="sc">::</span><span class="fu">reghelper</span>(m_new)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Test comparison</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(m_old, m_new) <span class="sc">%&gt;%</span> </span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">gt</span>(<span class="at">caption =</span> <span class="st">"Test Model difference"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">fmt_number</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">sub_missing</span>(<span class="at">missing_text =</span> <span class="st">""</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display page-columns page-full">
<div id="eulgzyppve" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;" class="page-columns page-full">
<style>#eulgzyppve table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#eulgzyppve thead, #eulgzyppve tbody, #eulgzyppve tfoot, #eulgzyppve tr, #eulgzyppve td, #eulgzyppve th {
  border-style: none;
}

#eulgzyppve p {
  margin: 0;
  padding: 0;
}

#eulgzyppve .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#eulgzyppve .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#eulgzyppve .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#eulgzyppve .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#eulgzyppve .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#eulgzyppve .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eulgzyppve .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#eulgzyppve .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#eulgzyppve .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#eulgzyppve .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#eulgzyppve .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#eulgzyppve .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#eulgzyppve .gt_spanner_row {
  border-bottom-style: hidden;
}

#eulgzyppve .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#eulgzyppve .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#eulgzyppve .gt_from_md > :first-child {
  margin-top: 0;
}

#eulgzyppve .gt_from_md > :last-child {
  margin-bottom: 0;
}

#eulgzyppve .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#eulgzyppve .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#eulgzyppve .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#eulgzyppve .gt_row_group_first td {
  border-top-width: 2px;
}

#eulgzyppve .gt_row_group_first th {
  border-top-width: 2px;
}

#eulgzyppve .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#eulgzyppve .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#eulgzyppve .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#eulgzyppve .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eulgzyppve .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#eulgzyppve .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#eulgzyppve .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#eulgzyppve .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#eulgzyppve .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eulgzyppve .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#eulgzyppve .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#eulgzyppve .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#eulgzyppve .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#eulgzyppve .gt_left {
  text-align: left;
}

#eulgzyppve .gt_center {
  text-align: center;
}

#eulgzyppve .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#eulgzyppve .gt_font_normal {
  font-weight: normal;
}

#eulgzyppve .gt_font_bold {
  font-weight: bold;
}

#eulgzyppve .gt_font_italic {
  font-style: italic;
}

#eulgzyppve .gt_super {
  font-size: 65%;
}

#eulgzyppve .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#eulgzyppve .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#eulgzyppve .gt_indent_1 {
  text-indent: 5px;
}

#eulgzyppve .gt_indent_2 {
  text-indent: 10px;
}

#eulgzyppve .gt_indent_3 {
  text-indent: 15px;
}

#eulgzyppve .gt_indent_4 {
  text-indent: 20px;
}

#eulgzyppve .gt_indent_5 {
  text-indent: 25px;
}

#eulgzyppve .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#eulgzyppve div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-bootstrap="false">

<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="gt_col_headings header">
<th id="npar" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">npar</th>
<th id="AIC" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">AIC</th>
<th id="BIC" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">BIC</th>
<th id="logLik" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">logLik</th>
<th id="deviance" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">deviance</th>
<th id="Chisq" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Chisq</th>
<th id="Df" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Df</th>
<th id="Pr(>Chisq)" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Pr(&gt;Chisq)</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="npar">4.00</td>
<td class="gt_row gt_right" headers="AIC">104,117.09</td>
<td class="gt_row gt_right" headers="BIC">104,146.63</td>
<td class="gt_row gt_right" headers="logLik">−52,054.54</td>
<td class="gt_row gt_right" headers="deviance">104,109.09</td>
<td class="gt_row gt_right" headers="Chisq"><br>
</td>
<td class="gt_row gt_right" headers="Df"><br>
</td>
<td class="gt_row gt_right" headers="Pr(>Chisq)"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="npar">5.00</td>
<td class="gt_row gt_right" headers="AIC">101,759.69</td>
<td class="gt_row gt_right" headers="BIC">101,796.62</td>
<td class="gt_row gt_right" headers="logLik">−50,874.85</td>
<td class="gt_row gt_right" headers="deviance">101,749.69</td>
<td class="gt_row gt_right" headers="Chisq">2,359.39</td>
<td class="gt_row gt_right" headers="Df">1.00</td>
<td class="gt_row gt_right" headers="Pr(>Chisq)">0.00</td>
</tr>
</tbody>
</table>

<div class="quarto-table-caption margin-caption">Test Model difference</div></div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare fixed parameters with unstandardized (b) and standardized (beta) coefficients</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tab_model</span>(m_old, m_new, </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">"Model Comparison"</span>, </span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.std =</span> <span class="cn">TRUE</span>, </span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.ci =</span> <span class="cn">FALSE</span>, </span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.aic =</span> <span class="cn">TRUE</span>, </span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">string.est =</span> <span class="st">"b"</span>, </span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">string.std =</span> <span class="st">"&amp;beta;"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display page-columns page-full">
<table style="border-collapse:collapse; border:none;">

<tbody><tr>
<th style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; ">&nbsp;</th>
<th colspan="3" style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; ">reading</th>
<th colspan="3" style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; ">reading</th>
</tr>
<tr>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; ">Predictors</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">b</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">β</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">p</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">b</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">β</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  col7">p</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">(Intercept)</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">116.19</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.00</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">108.51</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.00</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7"><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement student</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.90</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.35</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7"><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td colspan="7" style="font-weight:bold; text-align:left; padding-top:.8em;">Random Effects</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">σ<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">312.04</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">251.47</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>00</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">105.17 <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">106.28 <sub>id_classroom</sub></td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;"></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">89.34 <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">92.00 <sub>id_school</sub></td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">ICC</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">0.38</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">0.44</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">N</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">1191 <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">1191 <sub>id_classroom</sub></td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;"></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">60 <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">60 <sub>id_school</sub></td>
</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;">Observations</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;" colspan="3">11914</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;" colspan="3">11914</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">Marginal R<sup>2</sup> / Conditional R<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">0.000 / 0.384</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">0.118 / 0.507</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">AIC</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">104114.778</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">101760.677</td>
</tr>

</tbody></table>
<div class="quarto-table-caption margin-caption">Model Comparison</div></div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Variance reduction</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">variance_reduction</span>(m_new, m_old) <span class="sc">%&gt;%</span> </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gt</span>(<span class="at">caption =</span> <span class="st">"Variance Reduction"</span>) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display page-columns page-full">
<div id="lkxsucvhsd" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;" class="page-columns page-full">
<style>#lkxsucvhsd table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#lkxsucvhsd thead, #lkxsucvhsd tbody, #lkxsucvhsd tfoot, #lkxsucvhsd tr, #lkxsucvhsd td, #lkxsucvhsd th {
  border-style: none;
}

#lkxsucvhsd p {
  margin: 0;
  padding: 0;
}

#lkxsucvhsd .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#lkxsucvhsd .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#lkxsucvhsd .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#lkxsucvhsd .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#lkxsucvhsd .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lkxsucvhsd .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lkxsucvhsd .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lkxsucvhsd .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#lkxsucvhsd .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#lkxsucvhsd .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#lkxsucvhsd .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#lkxsucvhsd .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#lkxsucvhsd .gt_spanner_row {
  border-bottom-style: hidden;
}

#lkxsucvhsd .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#lkxsucvhsd .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#lkxsucvhsd .gt_from_md > :first-child {
  margin-top: 0;
}

#lkxsucvhsd .gt_from_md > :last-child {
  margin-bottom: 0;
}

#lkxsucvhsd .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#lkxsucvhsd .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#lkxsucvhsd .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#lkxsucvhsd .gt_row_group_first td {
  border-top-width: 2px;
}

#lkxsucvhsd .gt_row_group_first th {
  border-top-width: 2px;
}

#lkxsucvhsd .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lkxsucvhsd .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#lkxsucvhsd .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#lkxsucvhsd .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lkxsucvhsd .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lkxsucvhsd .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#lkxsucvhsd .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#lkxsucvhsd .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#lkxsucvhsd .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lkxsucvhsd .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lkxsucvhsd .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lkxsucvhsd .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lkxsucvhsd .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lkxsucvhsd .gt_left {
  text-align: left;
}

#lkxsucvhsd .gt_center {
  text-align: center;
}

#lkxsucvhsd .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#lkxsucvhsd .gt_font_normal {
  font-weight: normal;
}

#lkxsucvhsd .gt_font_bold {
  font-weight: bold;
}

#lkxsucvhsd .gt_font_italic {
  font-style: italic;
}

#lkxsucvhsd .gt_super {
  font-size: 65%;
}

#lkxsucvhsd .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#lkxsucvhsd .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#lkxsucvhsd .gt_indent_1 {
  text-indent: 5px;
}

#lkxsucvhsd .gt_indent_2 {
  text-indent: 10px;
}

#lkxsucvhsd .gt_indent_3 {
  text-indent: 15px;
}

#lkxsucvhsd .gt_indent_4 {
  text-indent: 20px;
}

#lkxsucvhsd .gt_indent_5 {
  text-indent: 25px;
}

#lkxsucvhsd .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#lkxsucvhsd div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-bootstrap="false">

<thead>
<tr class="gt_col_headings header">
<th id="grp" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">grp</th>
<th id="term" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">term</th>
<th id="New-Model" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">New Model</th>
<th id="Old-Model" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Old Model</th>
<th id="Variance-Reduction" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Variance Reduction</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="grp">Residual</td>
<td class="gt_row gt_left" headers="term">Level 1 Variance</td>
<td class="gt_row gt_right" headers="New Model">251</td>
<td class="gt_row gt_right" headers="Old Model">312.0</td>
<td class="gt_row gt_right" headers="Variance Reduction">0.1941</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="grp">id_classroom</td>
<td class="gt_row gt_left" headers="term">Intercept</td>
<td class="gt_row gt_right" headers="New Model">106</td>
<td class="gt_row gt_right" headers="Old Model">105.2</td>
<td class="gt_row gt_right" headers="Variance Reduction">-0.0105</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="grp">id_school</td>
<td class="gt_row gt_left" headers="term">Intercept</td>
<td class="gt_row gt_right" headers="New Model">92</td>
<td class="gt_row gt_right" headers="Old Model">89.3</td>
<td class="gt_row gt_right" headers="Variance Reduction">-0.0298</td>
</tr>
</tbody>
</table>

<div class="quarto-table-caption margin-caption">Variance Reduction</div></div>
</div>
</div>
<p><span class="math display">\[
\begin{aligned}
  \operatorname{reading}_{i}  &amp;\sim N \left(\alpha_{j[i],k[i]}, \sigma^2 \right) \\
    \alpha_{j}  &amp;\sim N \left(\mu_{\alpha_{j}}, \sigma^2_{\alpha_{j}} \right)
    \text{, for id\_classroom j = 1,} \dots \text{,J} \\
    \alpha_{k}  &amp;\sim N \left(\mu_{\alpha_{k}}, \sigma^2_{\alpha_{k}} \right)
    \text{, for id\_school k = 1,} \dots \text{,K}
\end{aligned}
\]</span></p>
<p>There was a lot going on in that output, but it is clear that <code>engagement_student</code> is a significant predictor of reading.</p>
</section>
<section id="level-2-predictors" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="level-2-predictors">Level 2 Predictors</h2>
<p>Now let’s add the L2 predictor, <code>engagement_teacher</code>:</p>
<div class="cell page-columns page-full">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>m_2_L2fixed <span class="ot">&lt;-</span> <span class="fu">update</span>(m_1_L1fixed, . <span class="sc">~</span> . <span class="sc">+</span> engagement_teacher)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>m_old <span class="ot">&lt;-</span> m_1_L1fixed</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>m_new <span class="ot">&lt;-</span> m_2_L2fixed</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check assumptions if checkassumptions is TRUE</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (checkassumptions) {</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  performance<span class="sc">::</span><span class="fu">check_model</span>(m_new)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Tabular display of new model</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>sjPlot<span class="sc">::</span><span class="fu">tab_model</span>(m_new, <span class="at">show.std =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<table style="border-collapse:collapse; border:none;">
<tbody><tr>
<th style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; ">&nbsp;</th>
<th colspan="5" style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; ">reading</th>
</tr>
<tr>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; ">Predictors</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">Estimates</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">std. Beta</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">CI</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">standardized CI</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">p</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">(Intercept)</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">101.70</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.01</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">99.10&nbsp;–&nbsp;104.31</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.12&nbsp;–&nbsp;0.11</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement student</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.91</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.35</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.76&nbsp;–&nbsp;4.06</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.33&nbsp;–&nbsp;0.36</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement teacher</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.34</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.31</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.08&nbsp;–&nbsp;3.60</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.28&nbsp;–&nbsp;0.33</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td colspan="6" style="font-weight:bold; text-align:left; padding-top:.8em;">Random Effects</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">σ<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">251.33</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>00</sub> <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">57.74</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>00</sub> <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">96.06</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">ICC</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">0.38</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">N <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">1191</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">N <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">60</td>
</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;">Observations</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;" colspan="5">11914</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">Marginal R<sup>2</sup> / Conditional R<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">0.209 / 0.509</td>
</tr>

</tbody></table>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Automated report of new model</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>report<span class="sc">::</span><span class="fu">report</span>(m_new, <span class="at">include_effectsize =</span> T) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>We fitted a linear mixed model (estimated using REML and nloptwrap optimizer)
to predict reading with engagement_student and engagement_teacher (formula:
reading ~ engagement_student + engagement_teacher). The model included
id_classroom as random effects (formula: list(~1 | id_classroom, ~1 |
id_school)). The model's total explanatory power is substantial (conditional R2
= 0.51) and the part related to the fixed effects alone (marginal R2) is of
0.21. The model's intercept, corresponding to engagement_student = 0 and
engagement_teacher = 0, is at 101.70 (95% CI [99.10, 104.31], t(11908) = 76.45,
p &lt; .001). Within this model:

  - The effect of engagement student is statistically significant and positive
(beta = 3.91, 95% CI [3.76, 4.06], t(11908) = 51.68, p &lt; .001; Std. beta =
0.35, 95% CI [0.33, 0.36])
  - The effect of engagement teacher is statistically significant and positive
(beta = 3.34, 95% CI [3.08, 3.60], t(11908) = 25.51, p &lt; .001; Std. beta =
0.31, 95% CI [0.28, 0.33])

Standardized parameters were obtained by fitting the model on a standardized
version of the dataset. 95% Confidence Intervals (CIs) and p-values were
computed using a Wald t-distribution approximation.</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot fixed effects in new model</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(insight<span class="sc">::</span><span class="fu">find_predictors</span>(m_new)<span class="sc">$</span>conditional)) {</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  sjPlot<span class="sc">::</span><span class="fu">plot_model</span>(m_new, </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">type =</span> <span class="st">"pred"</span>, </span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">title =</span> <span class="fu">deparse1</span>(<span class="fu">as.formula</span>(m_new)), </span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">terms =</span> insight<span class="sc">::</span><span class="fu">find_predictors</span>(m_new)<span class="sc">$</span>conditional</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>           )</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="multilevel3_files/figure-html/L2fixed-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Test simple slopes, if interactions are present</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(insight<span class="sc">::</span><span class="fu">find_interactions</span>(m_new))) {</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  reghelper<span class="sc">::</span><span class="fu">reghelper</span>(m_new)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Test comparison</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(m_old, m_new) <span class="sc">%&gt;%</span> </span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">gt</span>(<span class="at">caption =</span> <span class="st">"Test Model difference"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">fmt_number</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">sub_missing</span>(<span class="at">missing_text =</span> <span class="st">""</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display page-columns page-full">
<div id="ojixinemlz" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;" class="page-columns page-full">
<style>#ojixinemlz table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ojixinemlz thead, #ojixinemlz tbody, #ojixinemlz tfoot, #ojixinemlz tr, #ojixinemlz td, #ojixinemlz th {
  border-style: none;
}

#ojixinemlz p {
  margin: 0;
  padding: 0;
}

#ojixinemlz .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ojixinemlz .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ojixinemlz .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ojixinemlz .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ojixinemlz .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ojixinemlz .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ojixinemlz .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ojixinemlz .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ojixinemlz .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ojixinemlz .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ojixinemlz .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ojixinemlz .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ojixinemlz .gt_spanner_row {
  border-bottom-style: hidden;
}

#ojixinemlz .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ojixinemlz .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ojixinemlz .gt_from_md > :first-child {
  margin-top: 0;
}

#ojixinemlz .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ojixinemlz .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ojixinemlz .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ojixinemlz .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ojixinemlz .gt_row_group_first td {
  border-top-width: 2px;
}

#ojixinemlz .gt_row_group_first th {
  border-top-width: 2px;
}

#ojixinemlz .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ojixinemlz .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ojixinemlz .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ojixinemlz .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ojixinemlz .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ojixinemlz .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ojixinemlz .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ojixinemlz .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ojixinemlz .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ojixinemlz .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ojixinemlz .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ojixinemlz .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ojixinemlz .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ojixinemlz .gt_left {
  text-align: left;
}

#ojixinemlz .gt_center {
  text-align: center;
}

#ojixinemlz .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ojixinemlz .gt_font_normal {
  font-weight: normal;
}

#ojixinemlz .gt_font_bold {
  font-weight: bold;
}

#ojixinemlz .gt_font_italic {
  font-style: italic;
}

#ojixinemlz .gt_super {
  font-size: 65%;
}

#ojixinemlz .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ojixinemlz .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ojixinemlz .gt_indent_1 {
  text-indent: 5px;
}

#ojixinemlz .gt_indent_2 {
  text-indent: 10px;
}

#ojixinemlz .gt_indent_3 {
  text-indent: 15px;
}

#ojixinemlz .gt_indent_4 {
  text-indent: 20px;
}

#ojixinemlz .gt_indent_5 {
  text-indent: 25px;
}

#ojixinemlz .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ojixinemlz div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-bootstrap="false">

<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="gt_col_headings header">
<th id="npar" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">npar</th>
<th id="AIC" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">AIC</th>
<th id="BIC" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">BIC</th>
<th id="logLik" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">logLik</th>
<th id="deviance" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">deviance</th>
<th id="Chisq" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Chisq</th>
<th id="Df" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Df</th>
<th id="Pr(>Chisq)" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Pr(&gt;Chisq)</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="npar">5.00</td>
<td class="gt_row gt_right" headers="AIC">101,759.69</td>
<td class="gt_row gt_right" headers="BIC">101,796.62</td>
<td class="gt_row gt_right" headers="logLik">−50,874.85</td>
<td class="gt_row gt_right" headers="deviance">101,749.69</td>
<td class="gt_row gt_right" headers="Chisq"><br>
</td>
<td class="gt_row gt_right" headers="Df"><br>
</td>
<td class="gt_row gt_right" headers="Pr(>Chisq)"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="npar">6.00</td>
<td class="gt_row gt_right" headers="AIC">101,245.12</td>
<td class="gt_row gt_right" headers="BIC">101,289.43</td>
<td class="gt_row gt_right" headers="logLik">−50,616.56</td>
<td class="gt_row gt_right" headers="deviance">101,233.12</td>
<td class="gt_row gt_right" headers="Chisq">516.57</td>
<td class="gt_row gt_right" headers="Df">1.00</td>
<td class="gt_row gt_right" headers="Pr(>Chisq)">0.00</td>
</tr>
</tbody>
</table>

<div class="quarto-table-caption margin-caption">Test Model difference</div></div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare fixed parameters with unstandardized (b) and standardized (beta) coefficients</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tab_model</span>(m_old, m_new, </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">"Model Comparison"</span>, </span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.std =</span> <span class="cn">TRUE</span>, </span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.ci =</span> <span class="cn">FALSE</span>, </span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.aic =</span> <span class="cn">TRUE</span>, </span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">string.est =</span> <span class="st">"b"</span>, </span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">string.std =</span> <span class="st">"&amp;beta;"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display page-columns page-full">
<table style="border-collapse:collapse; border:none;">

<tbody><tr>
<th style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; ">&nbsp;</th>
<th colspan="3" style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; ">reading</th>
<th colspan="3" style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; ">reading</th>
</tr>
<tr>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; ">Predictors</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">b</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">β</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">p</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">b</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">β</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  col7">p</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">(Intercept)</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">108.51</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.00</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">101.70</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.01</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7"><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement student</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.90</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.35</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.91</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.35</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7"><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement teacher</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.34</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.31</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7"><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td colspan="7" style="font-weight:bold; text-align:left; padding-top:.8em;">Random Effects</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">σ<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">251.47</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">251.33</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>00</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">106.28 <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">57.74 <sub>id_classroom</sub></td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;"></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">92.00 <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">96.06 <sub>id_school</sub></td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">ICC</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">0.44</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">0.38</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">N</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">1191 <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">1191 <sub>id_classroom</sub></td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;"></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">60 <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">60 <sub>id_school</sub></td>
</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;">Observations</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;" colspan="3">11914</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;" colspan="3">11914</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">Marginal R<sup>2</sup> / Conditional R<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">0.118 / 0.507</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">0.209 / 0.509</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">AIC</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">101760.677</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">101248.328</td>
</tr>

</tbody></table>
<div class="quarto-table-caption margin-caption">Model Comparison</div></div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Variance reduction</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">variance_reduction</span>(m_new, m_old) <span class="sc">%&gt;%</span> </span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gt</span>(<span class="at">caption =</span> <span class="st">"Variance Reduction"</span>) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display page-columns page-full">
<div id="snjtkaiwfw" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;" class="page-columns page-full">
<style>#snjtkaiwfw table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#snjtkaiwfw thead, #snjtkaiwfw tbody, #snjtkaiwfw tfoot, #snjtkaiwfw tr, #snjtkaiwfw td, #snjtkaiwfw th {
  border-style: none;
}

#snjtkaiwfw p {
  margin: 0;
  padding: 0;
}

#snjtkaiwfw .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#snjtkaiwfw .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#snjtkaiwfw .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#snjtkaiwfw .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#snjtkaiwfw .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#snjtkaiwfw .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#snjtkaiwfw .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#snjtkaiwfw .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#snjtkaiwfw .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#snjtkaiwfw .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#snjtkaiwfw .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#snjtkaiwfw .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#snjtkaiwfw .gt_spanner_row {
  border-bottom-style: hidden;
}

#snjtkaiwfw .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#snjtkaiwfw .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#snjtkaiwfw .gt_from_md > :first-child {
  margin-top: 0;
}

#snjtkaiwfw .gt_from_md > :last-child {
  margin-bottom: 0;
}

#snjtkaiwfw .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#snjtkaiwfw .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#snjtkaiwfw .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#snjtkaiwfw .gt_row_group_first td {
  border-top-width: 2px;
}

#snjtkaiwfw .gt_row_group_first th {
  border-top-width: 2px;
}

#snjtkaiwfw .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#snjtkaiwfw .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#snjtkaiwfw .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#snjtkaiwfw .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#snjtkaiwfw .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#snjtkaiwfw .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#snjtkaiwfw .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#snjtkaiwfw .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#snjtkaiwfw .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#snjtkaiwfw .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#snjtkaiwfw .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#snjtkaiwfw .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#snjtkaiwfw .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#snjtkaiwfw .gt_left {
  text-align: left;
}

#snjtkaiwfw .gt_center {
  text-align: center;
}

#snjtkaiwfw .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#snjtkaiwfw .gt_font_normal {
  font-weight: normal;
}

#snjtkaiwfw .gt_font_bold {
  font-weight: bold;
}

#snjtkaiwfw .gt_font_italic {
  font-style: italic;
}

#snjtkaiwfw .gt_super {
  font-size: 65%;
}

#snjtkaiwfw .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#snjtkaiwfw .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#snjtkaiwfw .gt_indent_1 {
  text-indent: 5px;
}

#snjtkaiwfw .gt_indent_2 {
  text-indent: 10px;
}

#snjtkaiwfw .gt_indent_3 {
  text-indent: 15px;
}

#snjtkaiwfw .gt_indent_4 {
  text-indent: 20px;
}

#snjtkaiwfw .gt_indent_5 {
  text-indent: 25px;
}

#snjtkaiwfw .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#snjtkaiwfw div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-bootstrap="false">

<thead>
<tr class="gt_col_headings header">
<th id="grp" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">grp</th>
<th id="term" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">term</th>
<th id="New-Model" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">New Model</th>
<th id="Old-Model" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Old Model</th>
<th id="Variance-Reduction" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Variance Reduction</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="grp">Residual</td>
<td class="gt_row gt_left" headers="term">Level 1 Variance</td>
<td class="gt_row gt_right" headers="New Model">251.3</td>
<td class="gt_row gt_right" headers="Old Model">251</td>
<td class="gt_row gt_right" headers="Variance Reduction">0.000525</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="grp">id_classroom</td>
<td class="gt_row gt_left" headers="term">Intercept</td>
<td class="gt_row gt_right" headers="New Model">57.7</td>
<td class="gt_row gt_right" headers="Old Model">106</td>
<td class="gt_row gt_right" headers="Variance Reduction">0.456652</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="grp">id_school</td>
<td class="gt_row gt_left" headers="term">Intercept</td>
<td class="gt_row gt_right" headers="New Model">96.1</td>
<td class="gt_row gt_right" headers="Old Model">92</td>
<td class="gt_row gt_right" headers="Variance Reduction">-0.044126</td>
</tr>
</tbody>
</table>

<div class="quarto-table-caption margin-caption">Variance Reduction</div></div>
</div>
</div>
<p>Again, that is a lot of output to wade through, but it is clear that <code>engagement_teacher</code> is a significant predictor of reading.</p>
</section>
<section id="level-3-predictors" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="level-3-predictors">Level 3 Predictors</h2>
<p>Let’s add the L3 predictor, <code>engagement_principal</code>:</p>
<div class="cell page-columns page-full">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>m_3_L3fixed <span class="ot">&lt;-</span> <span class="fu">update</span>(m_2_L2fixed, . <span class="sc">~</span> . <span class="sc">+</span> engagement_principal)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>m_old <span class="ot">&lt;-</span> m_2_L2fixed</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>m_new <span class="ot">&lt;-</span> m_3_L3fixed</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check assumptions if checkassumptions is TRUE</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (checkassumptions) {</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  performance<span class="sc">::</span><span class="fu">check_model</span>(m_new)</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Tabular display of new model</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>sjPlot<span class="sc">::</span><span class="fu">tab_model</span>(m_new, <span class="at">show.std =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<table style="border-collapse:collapse; border:none;">
<tbody><tr>
<th style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; ">&nbsp;</th>
<th colspan="5" style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; ">reading</th>
</tr>
<tr>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; ">Predictors</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">Estimates</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">std. Beta</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">CI</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">standardized CI</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">p</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">(Intercept)</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">97.99</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.01</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">94.73&nbsp;–&nbsp;101.25</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.11&nbsp;–&nbsp;0.09</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement student</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.91</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.35</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.76&nbsp;–&nbsp;4.06</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.33&nbsp;–&nbsp;0.36</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement teacher</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.34</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.31</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.08&nbsp;–&nbsp;3.60</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.28&nbsp;–&nbsp;0.33</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement principal</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">1.69</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.17</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.70&nbsp;–&nbsp;2.69</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.07&nbsp;–&nbsp;0.27</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>0.001</strong></td>
</tr>
<tr>
<td colspan="6" style="font-weight:bold; text-align:left; padding-top:.8em;">Random Effects</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">σ<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">251.34</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>00</sub> <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">57.75</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>00</sub> <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">81.23</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">ICC</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">0.36</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">N <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">1191</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">N <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">60</td>
</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;">Observations</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;" colspan="5">11914</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">Marginal R<sup>2</sup> / Conditional R<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="5">0.237 / 0.508</td>
</tr>

</tbody></table>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Automated report of new model</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>report<span class="sc">::</span><span class="fu">report</span>(m_new, <span class="at">include_effectsize =</span> T) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>We fitted a linear mixed model (estimated using REML and nloptwrap optimizer)
to predict reading with engagement_student, engagement_teacher and
engagement_principal (formula: reading ~ engagement_student +
engagement_teacher + engagement_principal). The model included id_classroom as
random effects (formula: list(~1 | id_classroom, ~1 | id_school)). The model's
total explanatory power is substantial (conditional R2 = 0.51) and the part
related to the fixed effects alone (marginal R2) is of 0.24. The model's
intercept, corresponding to engagement_student = 0, engagement_teacher = 0 and
engagement_principal = 0, is at 97.99 (95% CI [94.73, 101.25], t(11907) =
58.92, p &lt; .001). Within this model:

  - The effect of engagement student is statistically significant and positive
(beta = 3.91, 95% CI [3.76, 4.06], t(11907) = 51.68, p &lt; .001; Std. beta =
0.35, 95% CI [0.33, 0.36])
  - The effect of engagement teacher is statistically significant and positive
(beta = 3.34, 95% CI [3.08, 3.60], t(11907) = 25.51, p &lt; .001; Std. beta =
0.31, 95% CI [0.28, 0.33])
  - The effect of engagement principal is statistically significant and positive
(beta = 1.69, 95% CI [0.70, 2.69], t(11907) = 3.34, p &lt; .001; Std. beta = 0.17,
95% CI [0.07, 0.27])

Standardized parameters were obtained by fitting the model on a standardized
version of the dataset. 95% Confidence Intervals (CIs) and p-values were
computed using a Wald t-distribution approximation.</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot fixed effects in new model</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(insight<span class="sc">::</span><span class="fu">find_predictors</span>(m_new)<span class="sc">$</span>conditional)) {</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  sjPlot<span class="sc">::</span><span class="fu">plot_model</span>(m_new, </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">type =</span> <span class="st">"pred"</span>, </span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">title =</span> <span class="fu">deparse1</span>(<span class="fu">as.formula</span>(m_new)), </span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">terms =</span> insight<span class="sc">::</span><span class="fu">find_predictors</span>(m_new)<span class="sc">$</span>conditional</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>           )</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="multilevel3_files/figure-html/L3fixed-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Test simple slopes, if interactions are present</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(insight<span class="sc">::</span><span class="fu">find_interactions</span>(m_new))) {</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  reghelper<span class="sc">::</span><span class="fu">reghelper</span>(m_new)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Test comparison</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(m_old, m_new) <span class="sc">%&gt;%</span> </span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">gt</span>(<span class="at">caption =</span> <span class="st">"Test Model difference"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">fmt_number</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">sub_missing</span>(<span class="at">missing_text =</span> <span class="st">""</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display page-columns page-full">
<div id="pkyoiiiswl" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;" class="page-columns page-full">
<style>#pkyoiiiswl table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#pkyoiiiswl thead, #pkyoiiiswl tbody, #pkyoiiiswl tfoot, #pkyoiiiswl tr, #pkyoiiiswl td, #pkyoiiiswl th {
  border-style: none;
}

#pkyoiiiswl p {
  margin: 0;
  padding: 0;
}

#pkyoiiiswl .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#pkyoiiiswl .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#pkyoiiiswl .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#pkyoiiiswl .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#pkyoiiiswl .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pkyoiiiswl .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pkyoiiiswl .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pkyoiiiswl .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#pkyoiiiswl .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#pkyoiiiswl .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#pkyoiiiswl .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#pkyoiiiswl .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#pkyoiiiswl .gt_spanner_row {
  border-bottom-style: hidden;
}

#pkyoiiiswl .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#pkyoiiiswl .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#pkyoiiiswl .gt_from_md > :first-child {
  margin-top: 0;
}

#pkyoiiiswl .gt_from_md > :last-child {
  margin-bottom: 0;
}

#pkyoiiiswl .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#pkyoiiiswl .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#pkyoiiiswl .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#pkyoiiiswl .gt_row_group_first td {
  border-top-width: 2px;
}

#pkyoiiiswl .gt_row_group_first th {
  border-top-width: 2px;
}

#pkyoiiiswl .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pkyoiiiswl .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#pkyoiiiswl .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#pkyoiiiswl .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pkyoiiiswl .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pkyoiiiswl .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#pkyoiiiswl .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#pkyoiiiswl .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#pkyoiiiswl .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pkyoiiiswl .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pkyoiiiswl .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pkyoiiiswl .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pkyoiiiswl .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pkyoiiiswl .gt_left {
  text-align: left;
}

#pkyoiiiswl .gt_center {
  text-align: center;
}

#pkyoiiiswl .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#pkyoiiiswl .gt_font_normal {
  font-weight: normal;
}

#pkyoiiiswl .gt_font_bold {
  font-weight: bold;
}

#pkyoiiiswl .gt_font_italic {
  font-style: italic;
}

#pkyoiiiswl .gt_super {
  font-size: 65%;
}

#pkyoiiiswl .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#pkyoiiiswl .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#pkyoiiiswl .gt_indent_1 {
  text-indent: 5px;
}

#pkyoiiiswl .gt_indent_2 {
  text-indent: 10px;
}

#pkyoiiiswl .gt_indent_3 {
  text-indent: 15px;
}

#pkyoiiiswl .gt_indent_4 {
  text-indent: 20px;
}

#pkyoiiiswl .gt_indent_5 {
  text-indent: 25px;
}

#pkyoiiiswl .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#pkyoiiiswl div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-bootstrap="false">

<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="gt_col_headings header">
<th id="npar" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">npar</th>
<th id="AIC" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">AIC</th>
<th id="BIC" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">BIC</th>
<th id="logLik" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">logLik</th>
<th id="deviance" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">deviance</th>
<th id="Chisq" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Chisq</th>
<th id="Df" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Df</th>
<th id="Pr(>Chisq)" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Pr(&gt;Chisq)</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="npar">6.00</td>
<td class="gt_row gt_right" headers="AIC">101,245.12</td>
<td class="gt_row gt_right" headers="BIC">101,289.43</td>
<td class="gt_row gt_right" headers="logLik">−50,616.56</td>
<td class="gt_row gt_right" headers="deviance">101,233.12</td>
<td class="gt_row gt_right" headers="Chisq"><br>
</td>
<td class="gt_row gt_right" headers="Df"><br>
</td>
<td class="gt_row gt_right" headers="Pr(>Chisq)"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="npar">7.00</td>
<td class="gt_row gt_right" headers="AIC">101,236.58</td>
<td class="gt_row gt_right" headers="BIC">101,288.28</td>
<td class="gt_row gt_right" headers="logLik">−50,611.29</td>
<td class="gt_row gt_right" headers="deviance">101,222.58</td>
<td class="gt_row gt_right" headers="Chisq">10.54</td>
<td class="gt_row gt_right" headers="Df">1.00</td>
<td class="gt_row gt_right" headers="Pr(>Chisq)">0.00</td>
</tr>
</tbody>
</table>

<div class="quarto-table-caption margin-caption">Test Model difference</div></div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare fixed parameters with unstandardized (b) and standardized (beta) coefficients</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tab_model</span>(m_old, m_new, </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">"Model Comparison"</span>, </span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.std =</span> <span class="cn">TRUE</span>, </span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.ci =</span> <span class="cn">FALSE</span>, </span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.aic =</span> <span class="cn">TRUE</span>, </span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">string.est =</span> <span class="st">"b"</span>, </span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">string.std =</span> <span class="st">"&amp;beta;"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display page-columns page-full">
<table style="border-collapse:collapse; border:none;">

<tbody><tr>
<th style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; ">&nbsp;</th>
<th colspan="3" style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; ">reading</th>
<th colspan="3" style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; ">reading</th>
</tr>
<tr>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; ">Predictors</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">b</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">β</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">p</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">b</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">β</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  col7">p</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">(Intercept)</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">101.70</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.01</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">97.99</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.01</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7"><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement student</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.91</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.35</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.91</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.35</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7"><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement teacher</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.34</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.31</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.34</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.31</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7"><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement principal</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">1.69</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.17</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7"><strong>0.001</strong></td>
</tr>
<tr>
<td colspan="7" style="font-weight:bold; text-align:left; padding-top:.8em;">Random Effects</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">σ<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">251.33</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">251.34</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>00</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">57.74 <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">57.75 <sub>id_classroom</sub></td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;"></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">96.06 <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">81.23 <sub>id_school</sub></td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">ICC</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">0.38</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">0.36</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">N</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">1191 <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">1191 <sub>id_classroom</sub></td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;"></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">60 <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">60 <sub>id_school</sub></td>
</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;">Observations</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;" colspan="3">11914</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;" colspan="3">11914</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">Marginal R<sup>2</sup> / Conditional R<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">0.209 / 0.509</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">0.237 / 0.508</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">AIC</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">101248.328</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">101239.498</td>
</tr>

</tbody></table>
<div class="quarto-table-caption margin-caption">Model Comparison</div></div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Variance reduction</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">variance_reduction</span>(m_new, m_old) <span class="sc">%&gt;%</span> </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gt</span>(<span class="at">caption =</span> <span class="st">"Variance Reduction"</span>) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display page-columns page-full">
<div id="ofajihbcvk" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;" class="page-columns page-full">
<style>#ofajihbcvk table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ofajihbcvk thead, #ofajihbcvk tbody, #ofajihbcvk tfoot, #ofajihbcvk tr, #ofajihbcvk td, #ofajihbcvk th {
  border-style: none;
}

#ofajihbcvk p {
  margin: 0;
  padding: 0;
}

#ofajihbcvk .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ofajihbcvk .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ofajihbcvk .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ofajihbcvk .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ofajihbcvk .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ofajihbcvk .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ofajihbcvk .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ofajihbcvk .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ofajihbcvk .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ofajihbcvk .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ofajihbcvk .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ofajihbcvk .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ofajihbcvk .gt_spanner_row {
  border-bottom-style: hidden;
}

#ofajihbcvk .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ofajihbcvk .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ofajihbcvk .gt_from_md > :first-child {
  margin-top: 0;
}

#ofajihbcvk .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ofajihbcvk .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ofajihbcvk .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ofajihbcvk .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ofajihbcvk .gt_row_group_first td {
  border-top-width: 2px;
}

#ofajihbcvk .gt_row_group_first th {
  border-top-width: 2px;
}

#ofajihbcvk .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ofajihbcvk .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ofajihbcvk .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ofajihbcvk .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ofajihbcvk .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ofajihbcvk .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ofajihbcvk .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ofajihbcvk .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ofajihbcvk .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ofajihbcvk .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ofajihbcvk .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ofajihbcvk .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ofajihbcvk .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ofajihbcvk .gt_left {
  text-align: left;
}

#ofajihbcvk .gt_center {
  text-align: center;
}

#ofajihbcvk .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ofajihbcvk .gt_font_normal {
  font-weight: normal;
}

#ofajihbcvk .gt_font_bold {
  font-weight: bold;
}

#ofajihbcvk .gt_font_italic {
  font-style: italic;
}

#ofajihbcvk .gt_super {
  font-size: 65%;
}

#ofajihbcvk .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ofajihbcvk .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ofajihbcvk .gt_indent_1 {
  text-indent: 5px;
}

#ofajihbcvk .gt_indent_2 {
  text-indent: 10px;
}

#ofajihbcvk .gt_indent_3 {
  text-indent: 15px;
}

#ofajihbcvk .gt_indent_4 {
  text-indent: 20px;
}

#ofajihbcvk .gt_indent_5 {
  text-indent: 25px;
}

#ofajihbcvk .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ofajihbcvk div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-bootstrap="false">

<thead>
<tr class="gt_col_headings header">
<th id="grp" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">grp</th>
<th id="term" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">term</th>
<th id="New-Model" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">New Model</th>
<th id="Old-Model" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Old Model</th>
<th id="Variance-Reduction" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Variance Reduction</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="grp">Residual</td>
<td class="gt_row gt_left" headers="term">Level 1 Variance</td>
<td class="gt_row gt_right" headers="New Model">251.3</td>
<td class="gt_row gt_right" headers="Old Model">251.3</td>
<td class="gt_row gt_right" headers="Variance Reduction">-1.85e-06</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="grp">id_classroom</td>
<td class="gt_row gt_left" headers="term">Intercept</td>
<td class="gt_row gt_right" headers="New Model">57.7</td>
<td class="gt_row gt_right" headers="Old Model">57.7</td>
<td class="gt_row gt_right" headers="Variance Reduction">-5.51e-05</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="grp">id_school</td>
<td class="gt_row gt_left" headers="term">Intercept</td>
<td class="gt_row gt_right" headers="New Model">81.2</td>
<td class="gt_row gt_right" headers="Old Model">96.1</td>
<td class="gt_row gt_right" headers="Variance Reduction">1.54e-01</td>
</tr>
</tbody>
</table>

<div class="quarto-table-caption margin-caption">Variance Reduction</div></div>
</div>
</div>
<p>Now we see that all three engagement variables are significant preductors.</p>
<p>Let’s see how much variance our fixed effects explain compared to our null model:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">compare_performance</span>(m_3_L3fixed, m_null_3)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># Comparison of Model Performance Indices

Name        |   Model |   AIC (weights) |  AICc (weights) |   BIC (weights)
---------------------------------------------------------------------------
m_3_L3fixed | lmerMod | 1.0e+05 (&gt;.999) | 1.0e+05 (&gt;.999) | 1.0e+05 (&gt;.999)
m_null_3    | lmerMod | 1.0e+05 (&lt;.001) | 1.0e+05 (&lt;.001) | 1.0e+05 (&lt;.001)

Name        | R2 (cond.) | R2 (marg.) |   ICC |   RMSE |  Sigma
---------------------------------------------------------------
m_3_L3fixed |      0.508 |      0.237 | 0.356 | 15.291 | 15.854
m_null_3    |      0.384 |      0.000 | 0.384 | 16.974 | 17.665</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">variance_reduction</span>(m_3_L3fixed, m_null_3)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 5
  grp          term             `New Model` `Old Model` `Variance Reduction`
  &lt;chr&gt;        &lt;chr&gt;                  &lt;dbl&gt;       &lt;dbl&gt;                &lt;dbl&gt;
1 Residual     Level 1 Variance       251.        312.                0.195 
2 id_classroom Intercept               57.7       105.                0.451 
3 id_school    Intercept               81.2        89.3               0.0908</code></pre>
</div>
</div>
<p>Not bad!</p>
</section>
</section>
<section id="level-2-random-slopes" class="level1 page-columns page-full">
<h1>Level-2 Random Slopes</h1>
<section id="uncorrelated-slopes-and-intercepts-at-l2" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="uncorrelated-slopes-and-intercepts-at-l2">Uncorrelated slopes and intercepts at L2</h2>
<p>We are going to fit two models with random slopes for student engagement. First, we will make the L2 slopes uncorrelated with the L2 intercepts. Then we will allow them to correlate.</p>
<p>Although I normally use the <code>update</code> function to specify new models, my experience is that updating random components gets messy very fast. It seems safer to just specify the models by hand (but carefully!).</p>
<div class="cell page-columns page-full">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>m_4_L2_uncorrelated_slopes <span class="ot">&lt;-</span> <span class="fu">lmer</span>(reading <span class="sc">~</span> engagement_student  <span class="sc">+</span> engagement_teacher <span class="sc">+</span> engagement_principal <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> engagement_student <span class="sc">||</span> id_classroom) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> id_school), <span class="at">data =</span> d)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>m_old <span class="ot">&lt;-</span> m_3_L3fixed</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>m_new <span class="ot">&lt;-</span> m_4_L2_uncorrelated_slopes</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Check assumptions if checkassumptions is TRUE</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (checkassumptions) {</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  performance<span class="sc">::</span><span class="fu">check_model</span>(m_new)</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Tabular display of new model</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>sjPlot<span class="sc">::</span><span class="fu">tab_model</span>(m_new, <span class="at">show.std =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<table style="border-collapse:collapse; border:none;">
<tbody><tr>
<th style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; ">&nbsp;</th>
<th colspan="6" style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; ">reading</th>
</tr>
<tr>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; ">Predictors</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">Estimates</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">std. Beta</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">CI</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">standardized CI</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">p</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  col7">std. p</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">(Intercept)</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">98.83</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.01</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">95.60&nbsp;–&nbsp;102.06</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.11&nbsp;–&nbsp;0.10</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7">0.861</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement student</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.98</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.35</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.77&nbsp;–&nbsp;4.20</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.33&nbsp;–&nbsp;0.37</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7"><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement teacher</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">2.94</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.31</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">2.71&nbsp;–&nbsp;3.17</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.28&nbsp;–&nbsp;0.33</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7"><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement principal</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">1.61</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.17</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.63&nbsp;–&nbsp;2.60</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.07&nbsp;–&nbsp;0.27</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7"><strong>0.001</strong></td>
</tr>
<tr>
<td colspan="7" style="font-weight:bold; text-align:left; padding-top:.8em;">Random Effects</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">σ<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="6">226.74</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>00</sub> <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="6">33.84</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>00</sub> <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="6">81.17</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>11</sub> <sub>id_classroom.engagement_student</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="6">5.99</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">ρ<sub>01</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="6">&nbsp;</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">ρ<sub>01</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="6">&nbsp;</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">ICC</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="6">0.34</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">N <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="6">1191</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">N <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="6">60</td>
</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;">Observations</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;" colspan="6">11914</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">Marginal R<sup>2</sup> / Conditional R<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="6">0.246 / 0.500</td>
</tr>

</tbody></table>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Automated report of new model</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>report<span class="sc">::</span><span class="fu">report</span>(m_new, <span class="at">include_effectsize =</span> T) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>We fitted a linear mixed model (estimated using REML and nloptwrap optimizer)
to predict reading with engagement_student, engagement_teacher and
engagement_principal (formula: reading ~ engagement_student +
engagement_teacher + engagement_principal). The model included id_classroom as
random effects (formula: list(~1 | id_classroom, ~0 + engagement_student |
id_classroom, ~1 | id_school)). The model's total explanatory power is
substantial (conditional R2 = 0.50) and the part related to the fixed effects
alone (marginal R2) is of 0.25. The model's intercept, corresponding to
engagement_student = 0, engagement_teacher = 0 and engagement_principal = 0, is
at 98.83 (95% CI [95.60, 102.06], t(11906) = 59.94, p &lt; .001). Within this
model:

  - The effect of engagement student is statistically significant and positive
(beta = 3.98, 95% CI [3.77, 4.20], t(11906) = 35.88, p &lt; .001; Std. beta =
0.35, 95% CI [0.33, 0.37])
  - The effect of engagement teacher is statistically significant and positive
(beta = 2.94, 95% CI [2.71, 3.17], t(11906) = 24.63, p &lt; .001; Std. beta =
0.31, 95% CI [0.28, 0.33])
  - The effect of engagement principal is statistically significant and positive
(beta = 1.61, 95% CI [0.63, 2.60], t(11906) = 3.20, p = 0.001; Std. beta =
0.17, 95% CI [0.07, 0.27])

Standardized parameters were obtained by fitting the model on a standardized
version of the dataset. 95% Confidence Intervals (CIs) and p-values were
computed using a Wald t-distribution approximation.</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot fixed effects in new model</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(insight<span class="sc">::</span><span class="fu">find_predictors</span>(m_new)<span class="sc">$</span>conditional)) {</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  sjPlot<span class="sc">::</span><span class="fu">plot_model</span>(m_new, </span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">type =</span> <span class="st">"pred"</span>, </span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">title =</span> <span class="fu">deparse1</span>(<span class="fu">as.formula</span>(m_new)), </span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">terms =</span> insight<span class="sc">::</span><span class="fu">find_predictors</span>(m_new)<span class="sc">$</span>conditional</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>           )</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="multilevel3_files/figure-html/L2uncorrelated-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Test simple slopes, if interactions are present</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(insight<span class="sc">::</span><span class="fu">find_interactions</span>(m_new))) {</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  reghelper<span class="sc">::</span><span class="fu">reghelper</span>(m_new)</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Test comparison</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(m_old, m_new) <span class="sc">%&gt;%</span> </span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">gt</span>(<span class="at">caption =</span> <span class="st">"Test Model difference"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">fmt_number</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">sub_missing</span>(<span class="at">missing_text =</span> <span class="st">""</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display page-columns page-full">
<div id="opkoidbogt" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;" class="page-columns page-full">
<style>#opkoidbogt table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#opkoidbogt thead, #opkoidbogt tbody, #opkoidbogt tfoot, #opkoidbogt tr, #opkoidbogt td, #opkoidbogt th {
  border-style: none;
}

#opkoidbogt p {
  margin: 0;
  padding: 0;
}

#opkoidbogt .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#opkoidbogt .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#opkoidbogt .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#opkoidbogt .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#opkoidbogt .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#opkoidbogt .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#opkoidbogt .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#opkoidbogt .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#opkoidbogt .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#opkoidbogt .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#opkoidbogt .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#opkoidbogt .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#opkoidbogt .gt_spanner_row {
  border-bottom-style: hidden;
}

#opkoidbogt .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#opkoidbogt .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#opkoidbogt .gt_from_md > :first-child {
  margin-top: 0;
}

#opkoidbogt .gt_from_md > :last-child {
  margin-bottom: 0;
}

#opkoidbogt .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#opkoidbogt .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#opkoidbogt .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#opkoidbogt .gt_row_group_first td {
  border-top-width: 2px;
}

#opkoidbogt .gt_row_group_first th {
  border-top-width: 2px;
}

#opkoidbogt .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#opkoidbogt .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#opkoidbogt .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#opkoidbogt .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#opkoidbogt .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#opkoidbogt .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#opkoidbogt .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#opkoidbogt .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#opkoidbogt .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#opkoidbogt .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#opkoidbogt .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#opkoidbogt .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#opkoidbogt .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#opkoidbogt .gt_left {
  text-align: left;
}

#opkoidbogt .gt_center {
  text-align: center;
}

#opkoidbogt .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#opkoidbogt .gt_font_normal {
  font-weight: normal;
}

#opkoidbogt .gt_font_bold {
  font-weight: bold;
}

#opkoidbogt .gt_font_italic {
  font-style: italic;
}

#opkoidbogt .gt_super {
  font-size: 65%;
}

#opkoidbogt .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#opkoidbogt .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#opkoidbogt .gt_indent_1 {
  text-indent: 5px;
}

#opkoidbogt .gt_indent_2 {
  text-indent: 10px;
}

#opkoidbogt .gt_indent_3 {
  text-indent: 15px;
}

#opkoidbogt .gt_indent_4 {
  text-indent: 20px;
}

#opkoidbogt .gt_indent_5 {
  text-indent: 25px;
}

#opkoidbogt .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#opkoidbogt div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-bootstrap="false">

<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="gt_col_headings header">
<th id="npar" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">npar</th>
<th id="AIC" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">AIC</th>
<th id="BIC" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">BIC</th>
<th id="logLik" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">logLik</th>
<th id="deviance" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">deviance</th>
<th id="Chisq" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Chisq</th>
<th id="Df" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Df</th>
<th id="Pr(>Chisq)" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Pr(&gt;Chisq)</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="npar">7.00</td>
<td class="gt_row gt_right" headers="AIC">101,236.58</td>
<td class="gt_row gt_right" headers="BIC">101,288.28</td>
<td class="gt_row gt_right" headers="logLik">−50,611.29</td>
<td class="gt_row gt_right" headers="deviance">101,222.58</td>
<td class="gt_row gt_right" headers="Chisq"><br>
</td>
<td class="gt_row gt_right" headers="Df"><br>
</td>
<td class="gt_row gt_right" headers="Pr(>Chisq)"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="npar">8.00</td>
<td class="gt_row gt_right" headers="AIC">100,619.42</td>
<td class="gt_row gt_right" headers="BIC">100,678.50</td>
<td class="gt_row gt_right" headers="logLik">−50,301.71</td>
<td class="gt_row gt_right" headers="deviance">100,603.42</td>
<td class="gt_row gt_right" headers="Chisq">619.17</td>
<td class="gt_row gt_right" headers="Df">1.00</td>
<td class="gt_row gt_right" headers="Pr(>Chisq)">0.00</td>
</tr>
</tbody>
</table>

<div class="quarto-table-caption margin-caption">Test Model difference</div></div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare fixed parameters with unstandardized (b) and standardized (beta) coefficients</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tab_model</span>(m_old, m_new, </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">"Model Comparison"</span>, </span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.std =</span> <span class="cn">TRUE</span>, </span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.ci =</span> <span class="cn">FALSE</span>, </span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.aic =</span> <span class="cn">TRUE</span>, </span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">string.est =</span> <span class="st">"b"</span>, </span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">string.std =</span> <span class="st">"&amp;beta;"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display page-columns page-full">
<table style="border-collapse:collapse; border:none;">

<tbody><tr>
<th style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; ">&nbsp;</th>
<th colspan="3" style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; ">reading</th>
<th colspan="4" style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; ">reading</th>
</tr>
<tr>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; ">Predictors</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">b</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">β</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">p</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">b</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">β</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  col7">p</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  col8">std. p</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">(Intercept)</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">97.99</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.01</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">98.83</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.01</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7"><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col8">0.861</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement student</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.91</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.35</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.98</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.35</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7"><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col8"><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement teacher</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.34</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.31</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">2.94</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.31</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7"><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col8"><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement principal</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">1.69</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.17</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">1.61</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.17</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7"><strong>0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col8"><strong>0.001</strong></td>
</tr>
<tr>
<td colspan="8" style="font-weight:bold; text-align:left; padding-top:.8em;">Random Effects</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">σ<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">251.34</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">226.74</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>00</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">57.75 <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">33.84 <sub>id_classroom</sub></td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;"></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">81.23 <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">81.17 <sub>id_school</sub></td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>11</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">&nbsp;</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">5.99 <sub>id_classroom.engagement_student</sub></td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">ρ<sub>01</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">&nbsp;</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">&nbsp;</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">ρ<sub>01</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">&nbsp;</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">&nbsp;</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">ICC</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">0.36</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">0.34</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">N</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">1191 <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">1191 <sub>id_classroom</sub></td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;"></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">60 <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">60 <sub>id_school</sub></td>
</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;">Observations</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;" colspan="3">11914</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;" colspan="4">11914</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">Marginal R<sup>2</sup> / Conditional R<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">0.237 / 0.508</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">0.246 / 0.500</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">AIC</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="3">101239.498</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">100621.770</td>
</tr>

</tbody></table>
<div class="quarto-table-caption margin-caption">Model Comparison</div></div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Variance reduction</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">variance_reduction</span>(m_new, m_old) <span class="sc">%&gt;%</span> </span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gt</span>(<span class="at">caption =</span> <span class="st">"Variance Reduction"</span>) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display page-columns page-full">
<div id="flotsnzjef" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;" class="page-columns page-full">
<style>#flotsnzjef table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#flotsnzjef thead, #flotsnzjef tbody, #flotsnzjef tfoot, #flotsnzjef tr, #flotsnzjef td, #flotsnzjef th {
  border-style: none;
}

#flotsnzjef p {
  margin: 0;
  padding: 0;
}

#flotsnzjef .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#flotsnzjef .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#flotsnzjef .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#flotsnzjef .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#flotsnzjef .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#flotsnzjef .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#flotsnzjef .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#flotsnzjef .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#flotsnzjef .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#flotsnzjef .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#flotsnzjef .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#flotsnzjef .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#flotsnzjef .gt_spanner_row {
  border-bottom-style: hidden;
}

#flotsnzjef .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#flotsnzjef .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#flotsnzjef .gt_from_md > :first-child {
  margin-top: 0;
}

#flotsnzjef .gt_from_md > :last-child {
  margin-bottom: 0;
}

#flotsnzjef .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#flotsnzjef .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#flotsnzjef .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#flotsnzjef .gt_row_group_first td {
  border-top-width: 2px;
}

#flotsnzjef .gt_row_group_first th {
  border-top-width: 2px;
}

#flotsnzjef .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#flotsnzjef .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#flotsnzjef .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#flotsnzjef .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#flotsnzjef .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#flotsnzjef .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#flotsnzjef .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#flotsnzjef .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#flotsnzjef .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#flotsnzjef .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#flotsnzjef .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#flotsnzjef .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#flotsnzjef .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#flotsnzjef .gt_left {
  text-align: left;
}

#flotsnzjef .gt_center {
  text-align: center;
}

#flotsnzjef .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#flotsnzjef .gt_font_normal {
  font-weight: normal;
}

#flotsnzjef .gt_font_bold {
  font-weight: bold;
}

#flotsnzjef .gt_font_italic {
  font-style: italic;
}

#flotsnzjef .gt_super {
  font-size: 65%;
}

#flotsnzjef .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#flotsnzjef .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#flotsnzjef .gt_indent_1 {
  text-indent: 5px;
}

#flotsnzjef .gt_indent_2 {
  text-indent: 10px;
}

#flotsnzjef .gt_indent_3 {
  text-indent: 15px;
}

#flotsnzjef .gt_indent_4 {
  text-indent: 20px;
}

#flotsnzjef .gt_indent_5 {
  text-indent: 25px;
}

#flotsnzjef .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#flotsnzjef div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-bootstrap="false">

<thead>
<tr class="gt_col_headings header">
<th id="grp" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">grp</th>
<th id="term" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">term</th>
<th id="New-Model" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">New Model</th>
<th id="Old-Model" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Old Model</th>
<th id="Variance-Reduction" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Variance Reduction</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="grp">Residual</td>
<td class="gt_row gt_left" headers="term">Level 1 Variance</td>
<td class="gt_row gt_right" headers="New Model">226.7</td>
<td class="gt_row gt_right" headers="Old Model">251.3</td>
<td class="gt_row gt_right" headers="Variance Reduction">0.09785</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="grp">id_classroom</td>
<td class="gt_row gt_left" headers="term">Intercept</td>
<td class="gt_row gt_right" headers="New Model">33.8</td>
<td class="gt_row gt_right" headers="Old Model">57.7</td>
<td class="gt_row gt_right" headers="Variance Reduction">0.41393</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="grp">id_school</td>
<td class="gt_row gt_left" headers="term">Intercept</td>
<td class="gt_row gt_right" headers="New Model">81.2</td>
<td class="gt_row gt_right" headers="Old Model">81.2</td>
<td class="gt_row gt_right" headers="Variance Reduction">0.00069</td>
</tr>
</tbody>
</table>

<div class="quarto-table-caption margin-caption">Variance Reduction</div></div>
</div>
</div>
<p><strong>Interpretation</strong>: We need to include the L2 random slopes for <code>student engagment</code> in our model. Why? The comparison using the <code>anova</code> function was significant. Also, the <code>AIC-wt</code> from the <code>compare_performance</code> function tells us we should prefer the random slopes model over the fixed effects model.</p>
</section>
<section id="correlated-slopes-and-intercepts-at-l2" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="correlated-slopes-and-intercepts-at-l2">Correlated slopes and intercepts at L2</h2>
<p>For the sake of completeness, we can let the random slopes and intercepts correlate.</p>
<div class="cell page-columns page-full">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>m_5_L2_correlated_slopes <span class="ot">&lt;-</span> <span class="fu">lmer</span>(reading <span class="sc">~</span> engagement_student  <span class="sc">+</span> engagement_teacher <span class="sc">+</span> engagement_principal <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> engagement_student <span class="sc">|</span> id_classroom) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> id_school), <span class="at">data =</span> d)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>m_old <span class="ot">&lt;-</span> m_4_L2_uncorrelated_slopes</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>m_new <span class="ot">&lt;-</span> m_5_L2_correlated_slopes</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Check assumptions if checkassumptions is TRUE</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (checkassumptions) {</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>  performance<span class="sc">::</span><span class="fu">check_model</span>(m_new)</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Tabular display of new model</span></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>sjPlot<span class="sc">::</span><span class="fu">tab_model</span>(m_new, <span class="at">show.std =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<table style="border-collapse:collapse; border:none;">
<tbody><tr>
<th style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; ">&nbsp;</th>
<th colspan="6" style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; ">reading</th>
</tr>
<tr>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; ">Predictors</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">Estimates</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">std. Beta</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">CI</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">standardized CI</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">p</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  col7">std. p</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">(Intercept)</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">98.84</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.01</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">95.61&nbsp;–&nbsp;102.07</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.11&nbsp;–&nbsp;0.10</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7">0.864</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement student</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.98</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.35</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.77&nbsp;–&nbsp;4.20</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.34&nbsp;–&nbsp;0.37</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7"><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement teacher</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">2.93</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.27</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">2.70&nbsp;–&nbsp;3.17</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.25&nbsp;–&nbsp;0.29</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7"><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement principal</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">1.61</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.16</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.62&nbsp;–&nbsp;2.60</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.06&nbsp;–&nbsp;0.26</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7"><strong>0.001</strong></td>
</tr>
<tr>
<td colspan="7" style="font-weight:bold; text-align:left; padding-top:.8em;">Random Effects</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">σ<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="6">226.82</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>00</sub> <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="6">33.45</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>00</sub> <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="6">81.18</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>11</sub> <sub>id_classroom.engagement_student</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="6">5.94</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">ρ<sub>01</sub> <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="6">0.02</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">ICC</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="6">0.42</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">N <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="6">1191</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">N <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="6">60</td>
</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;">Observations</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;" colspan="6">11914</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">Marginal R<sup>2</sup> / Conditional R<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="6">0.223 / 0.547</td>
</tr>

</tbody></table>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Automated report of new model</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>report<span class="sc">::</span><span class="fu">report</span>(m_new, <span class="at">include_effectsize =</span> T) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>We fitted a linear mixed model (estimated using REML and nloptwrap optimizer)
to predict reading with engagement_student, engagement_teacher and
engagement_principal (formula: reading ~ engagement_student +
engagement_teacher + engagement_principal). The model included
engagement_student as random effects (formula: list(~1 + engagement_student |
id_classroom, ~1 | id_school)). The model's total explanatory power is
substantial (conditional R2 = 0.55) and the part related to the fixed effects
alone (marginal R2) is of 0.22. The model's intercept, corresponding to
engagement_student = 0, engagement_teacher = 0 and engagement_principal = 0, is
at 98.84 (95% CI [95.61, 102.07], t(11905) = 59.95, p &lt; .001). Within this
model:

  - The effect of engagement student is statistically significant and positive
(beta = 3.98, 95% CI [3.77, 4.20], t(11905) = 35.96, p &lt; .001; Std. beta =
0.35, 95% CI [0.34, 0.37])
  - The effect of engagement teacher is statistically significant and positive
(beta = 2.93, 95% CI [2.70, 3.17], t(11905) = 24.59, p &lt; .001; Std. beta =
0.27, 95% CI [0.25, 0.29])
  - The effect of engagement principal is statistically significant and positive
(beta = 1.61, 95% CI [0.62, 2.60], t(11905) = 3.20, p = 0.001; Std. beta =
0.16, 95% CI [0.06, 0.26])

Standardized parameters were obtained by fitting the model on a standardized
version of the dataset. 95% Confidence Intervals (CIs) and p-values were
computed using a Wald t-distribution approximation.</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot fixed effects in new model</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(insight<span class="sc">::</span><span class="fu">find_predictors</span>(m_new)<span class="sc">$</span>conditional)) {</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  sjPlot<span class="sc">::</span><span class="fu">plot_model</span>(m_new, </span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">type =</span> <span class="st">"pred"</span>, </span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">title =</span> <span class="fu">deparse1</span>(<span class="fu">as.formula</span>(m_new)), </span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">terms =</span> insight<span class="sc">::</span><span class="fu">find_predictors</span>(m_new)<span class="sc">$</span>conditional</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>           )</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="multilevel3_files/figure-html/L2correlated-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Test simple slopes, if interactions are present</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(insight<span class="sc">::</span><span class="fu">find_interactions</span>(m_new))) {</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  reghelper<span class="sc">::</span><span class="fu">reghelper</span>(m_new)</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Test comparison</span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(m_old, m_new) <span class="sc">%&gt;%</span> </span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">gt</span>(<span class="at">caption =</span> <span class="st">"Test Model difference"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">fmt_number</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">sub_missing</span>(<span class="at">missing_text =</span> <span class="st">""</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display page-columns page-full">
<div id="ydwuznycod" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;" class="page-columns page-full">
<style>#ydwuznycod table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ydwuznycod thead, #ydwuznycod tbody, #ydwuznycod tfoot, #ydwuznycod tr, #ydwuznycod td, #ydwuznycod th {
  border-style: none;
}

#ydwuznycod p {
  margin: 0;
  padding: 0;
}

#ydwuznycod .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ydwuznycod .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ydwuznycod .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ydwuznycod .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ydwuznycod .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ydwuznycod .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ydwuznycod .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ydwuznycod .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ydwuznycod .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ydwuznycod .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ydwuznycod .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ydwuznycod .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ydwuznycod .gt_spanner_row {
  border-bottom-style: hidden;
}

#ydwuznycod .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ydwuznycod .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ydwuznycod .gt_from_md > :first-child {
  margin-top: 0;
}

#ydwuznycod .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ydwuznycod .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ydwuznycod .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ydwuznycod .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ydwuznycod .gt_row_group_first td {
  border-top-width: 2px;
}

#ydwuznycod .gt_row_group_first th {
  border-top-width: 2px;
}

#ydwuznycod .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ydwuznycod .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ydwuznycod .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ydwuznycod .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ydwuznycod .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ydwuznycod .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ydwuznycod .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ydwuznycod .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ydwuznycod .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ydwuznycod .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ydwuznycod .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ydwuznycod .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ydwuznycod .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ydwuznycod .gt_left {
  text-align: left;
}

#ydwuznycod .gt_center {
  text-align: center;
}

#ydwuznycod .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ydwuznycod .gt_font_normal {
  font-weight: normal;
}

#ydwuznycod .gt_font_bold {
  font-weight: bold;
}

#ydwuznycod .gt_font_italic {
  font-style: italic;
}

#ydwuznycod .gt_super {
  font-size: 65%;
}

#ydwuznycod .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ydwuznycod .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ydwuznycod .gt_indent_1 {
  text-indent: 5px;
}

#ydwuznycod .gt_indent_2 {
  text-indent: 10px;
}

#ydwuznycod .gt_indent_3 {
  text-indent: 15px;
}

#ydwuznycod .gt_indent_4 {
  text-indent: 20px;
}

#ydwuznycod .gt_indent_5 {
  text-indent: 25px;
}

#ydwuznycod .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ydwuznycod div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-bootstrap="false">

<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="gt_col_headings header">
<th id="npar" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">npar</th>
<th id="AIC" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">AIC</th>
<th id="BIC" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">BIC</th>
<th id="logLik" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">logLik</th>
<th id="deviance" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">deviance</th>
<th id="Chisq" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Chisq</th>
<th id="Df" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Df</th>
<th id="Pr(>Chisq)" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Pr(&gt;Chisq)</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="npar">8.00</td>
<td class="gt_row gt_right" headers="AIC">100,619.42</td>
<td class="gt_row gt_right" headers="BIC">100,678.50</td>
<td class="gt_row gt_right" headers="logLik">−50,301.71</td>
<td class="gt_row gt_right" headers="deviance">100,603.42</td>
<td class="gt_row gt_right" headers="Chisq"><br>
</td>
<td class="gt_row gt_right" headers="Df"><br>
</td>
<td class="gt_row gt_right" headers="Pr(>Chisq)"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="npar">9.00</td>
<td class="gt_row gt_right" headers="AIC">100,621.38</td>
<td class="gt_row gt_right" headers="BIC">100,687.85</td>
<td class="gt_row gt_right" headers="logLik">−50,301.69</td>
<td class="gt_row gt_right" headers="deviance">100,603.38</td>
<td class="gt_row gt_right" headers="Chisq">0.04</td>
<td class="gt_row gt_right" headers="Df">1.00</td>
<td class="gt_row gt_right" headers="Pr(>Chisq)">0.84</td>
</tr>
</tbody>
</table>

<div class="quarto-table-caption margin-caption">Test Model difference</div></div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare fixed parameters with unstandardized (b) and standardized (beta) coefficients</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tab_model</span>(m_old, m_new, </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">"Model Comparison"</span>, </span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.std =</span> <span class="cn">TRUE</span>, </span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.ci =</span> <span class="cn">FALSE</span>, </span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.aic =</span> <span class="cn">TRUE</span>, </span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">string.est =</span> <span class="st">"b"</span>, </span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">string.std =</span> <span class="st">"&amp;beta;"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display page-columns page-full">
<table style="border-collapse:collapse; border:none;">

<tbody><tr>
<th style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; ">&nbsp;</th>
<th colspan="4" style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; ">reading</th>
<th colspan="4" style="border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; ">reading</th>
</tr>
<tr>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; ">Predictors</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">b</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">β</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">p</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">std. p</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  ">b</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  col7">β</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  col8">p</td>
<td style=" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  col9">std. p</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">(Intercept)</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">98.83</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">-0.01</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.861</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">98.84</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7">-0.01</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col8"><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col9">0.864</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement student</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.98</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.35</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">3.98</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7">0.35</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col8"><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col9"><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement teacher</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">2.94</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.31</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">2.93</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7">0.27</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col8"><strong>&lt;0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col9"><strong>&lt;0.001</strong></td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; ">engagement principal</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">1.61</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">0.17</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  "><strong>0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  ">1.61</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col7">0.16</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col8"><strong>0.001</strong></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  col9"><strong>0.001</strong></td>
</tr>
<tr>
<td colspan="9" style="font-weight:bold; text-align:left; padding-top:.8em;">Random Effects</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">σ<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">226.74</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">226.82</td>
</tr>

<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>00</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">33.84 <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">33.45 <sub>id_classroom</sub></td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;"></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">81.17 <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">81.18 <sub>id_school</sub></td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">τ<sub>11</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">5.99 <sub>id_classroom.engagement_student</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">5.94 <sub>id_classroom.engagement_student</sub></td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">ρ<sub>01</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">&nbsp;</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">0.02 <sub>id_classroom</sub></td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">ICC</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">0.34</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">0.42</td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">N</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">1191 <sub>id_classroom</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">1191 <sub>id_classroom</sub></td>

</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;"></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">60 <sub>id_school</sub></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">60 <sub>id_school</sub></td>
</tr><tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;">Observations</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;" colspan="4">11914</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;" colspan="4">11914</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">Marginal R<sup>2</sup> / Conditional R<sup>2</sup></td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">0.246 / 0.500</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">0.223 / 0.547</td>
</tr>
<tr>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">AIC</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">100621.770</td>
<td style=" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;" colspan="4">100623.733</td>
</tr>

</tbody></table>
<div class="quarto-table-caption margin-caption">Model Comparison</div></div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Variance reduction</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">variance_reduction</span>(m_new, m_old) <span class="sc">%&gt;%</span> </span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gt</span>(<span class="at">caption =</span> <span class="st">"Variance Reduction"</span>) </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display page-columns page-full">
<div id="tixncovywh" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;" class="page-columns page-full">
<style>#tixncovywh table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#tixncovywh thead, #tixncovywh tbody, #tixncovywh tfoot, #tixncovywh tr, #tixncovywh td, #tixncovywh th {
  border-style: none;
}

#tixncovywh p {
  margin: 0;
  padding: 0;
}

#tixncovywh .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#tixncovywh .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#tixncovywh .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#tixncovywh .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#tixncovywh .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tixncovywh .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tixncovywh .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tixncovywh .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#tixncovywh .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#tixncovywh .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#tixncovywh .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#tixncovywh .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#tixncovywh .gt_spanner_row {
  border-bottom-style: hidden;
}

#tixncovywh .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#tixncovywh .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#tixncovywh .gt_from_md > :first-child {
  margin-top: 0;
}

#tixncovywh .gt_from_md > :last-child {
  margin-bottom: 0;
}

#tixncovywh .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#tixncovywh .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#tixncovywh .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#tixncovywh .gt_row_group_first td {
  border-top-width: 2px;
}

#tixncovywh .gt_row_group_first th {
  border-top-width: 2px;
}

#tixncovywh .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tixncovywh .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#tixncovywh .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#tixncovywh .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tixncovywh .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tixncovywh .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#tixncovywh .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#tixncovywh .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#tixncovywh .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tixncovywh .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tixncovywh .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tixncovywh .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tixncovywh .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tixncovywh .gt_left {
  text-align: left;
}

#tixncovywh .gt_center {
  text-align: center;
}

#tixncovywh .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#tixncovywh .gt_font_normal {
  font-weight: normal;
}

#tixncovywh .gt_font_bold {
  font-weight: bold;
}

#tixncovywh .gt_font_italic {
  font-style: italic;
}

#tixncovywh .gt_super {
  font-size: 65%;
}

#tixncovywh .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#tixncovywh .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#tixncovywh .gt_indent_1 {
  text-indent: 5px;
}

#tixncovywh .gt_indent_2 {
  text-indent: 10px;
}

#tixncovywh .gt_indent_3 {
  text-indent: 15px;
}

#tixncovywh .gt_indent_4 {
  text-indent: 20px;
}

#tixncovywh .gt_indent_5 {
  text-indent: 25px;
}

#tixncovywh .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#tixncovywh div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-bootstrap="false">

<thead>
<tr class="gt_col_headings header">
<th id="grp" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">grp</th>
<th id="term" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">term</th>
<th id="New-Model" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">New Model</th>
<th id="Old-Model" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Old Model</th>
<th id="Variance-Reduction" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Variance Reduction</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="grp">Residual</td>
<td class="gt_row gt_left" headers="term">Level 1 Variance</td>
<td class="gt_row gt_right" headers="New Model">226.8</td>
<td class="gt_row gt_right" headers="Old Model">226.7</td>
<td class="gt_row gt_right" headers="Variance Reduction">-3.61e-04</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="grp">id_classroom</td>
<td class="gt_row gt_left" headers="term">Intercept</td>
<td class="gt_row gt_right" headers="New Model">33.5</td>
<td class="gt_row gt_right" headers="Old Model">33.8</td>
<td class="gt_row gt_right" headers="Variance Reduction">1.16e-02</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="grp">id_school</td>
<td class="gt_row gt_left" headers="term">Intercept</td>
<td class="gt_row gt_right" headers="New Model">81.2</td>
<td class="gt_row gt_right" headers="Old Model">81.2</td>
<td class="gt_row gt_right" headers="Variance Reduction">-7.03e-05</td>
</tr>
</tbody>
</table>

<div class="quarto-table-caption margin-caption">Variance Reduction</div></div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Question 1
</div>
</div>
<div class="callout-body-container callout-body">
<p>Of the models we have seen so far, which should we prefer, fixed effects only (<code>m_3_L3fixed</code>), uncorrelated L2 random effects (<code>m_4_L2_uncorrelated_slopes</code>), or correlated L2 random effects (<code>m_5_L2_correlated_slopes</code>)?</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Hint (click to see)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Look at the output of these functions:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(m_3_L3fixed, m_4_L2_uncorrelated_slopes, m_5_L2_correlated_slopes)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">compare_performance</span>(m_3_L3fixed, m_4_L2_uncorrelated_slopes, m_5_L2_correlated_slopes)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="level-3-random-slopes" class="level1">
<h1>Level-3 Random Slopes</h1>
<p>To the model that you decided on in the previous question, add random slopes for teacher engagement at level 3. Just as with level 3, create a version with uncorrelated slopes and intercepts (call it <code>m_6_L3_uncorrelated_slopes</code>) and a model with correlated slopes and intercepts (call it <code>m_7_L3_correlated_slopes</code>). Compare the models with previous model and with each other.</p>
<p>For now, pay no attention to the convergence warnings. We will deal with that later.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Question 2
</div>
</div>
<div class="callout-body-container callout-body">
<p>Concerning L3 random effects, with model should you prefer?</p>
</div>
</div>
</section>
<section id="l1l2-interaction" class="level1">
<h1>L1–L2 Interaction</h1>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Question 3
</div>
</div>
<div class="callout-body-container callout-body">
<p>Is there evidence of an interaction effect of student and teacher engagement?</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Hint (click to see)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Specify <code>engagement_student * engagement_teacher</code> instead of <code>engagement_student + engagement_teacher</code> in your model.</p>
<p>If you want to know if the conditional effects (AKA simple slopes) of <code>engagement_student</code> are significant at particular values of <code>engagement_teacher</code>, try <code>reghelper::simple_slopes</code>.</p>
<p>For example:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>m_L1L2 <span class="ot">&lt;-</span> <span class="fu">lmer</span>(reading <span class="sc">~</span> engagement_student  <span class="sc">*</span> engagement_teacher <span class="sc">+</span> engagement_principal <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> engagement_student <span class="sc">||</span> id_classroom) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> engagement_teacher  <span class="sc">|</span> id_school), <span class="at">data =</span> d)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Default values are at -1SD, mean, +1SD</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>reghelper<span class="sc">::</span><span class="fu">simple_slopes</span>(m_L1L2)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  engagement_student engagement_teacher Test Estimate Std. Error t value
1          -0.025859             sstest        2.4605     0.1870 13.1573
2           1.967079             sstest        3.4328     0.1802 19.0476
3           3.960017             sstest        4.4314     0.2056 21.5533
4             sstest          -0.059759        2.9880     0.1538 19.4244
5             sstest           2.007031        4.0008     0.1080 37.0494
6             sstest           4.073821        5.0136     0.1570 31.9431</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify specific values:</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>reghelper<span class="sc">::</span><span class="fu">simple_slopes</span>(m_L1L2, <span class="at">levels =</span> <span class="fu">list</span>(<span class="at">engagement_teacher =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="st">"sstest"</span>), </span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">engagement_student =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="st">"sstest"</span>)))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  engagement_student engagement_teacher Test Estimate Std. Error t value
1             sstest                  0        3.0173     0.1515 19.9105
2             sstest                  1        3.5073     0.1200 29.2386
3             sstest                  2        3.9974     0.1080 37.0189
4                  0             sstest        2.4732     0.1867 13.2478
5                  1             sstest        2.9626     0.1787 16.5742
6                  2             sstest        3.4489     0.1804 19.1142</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="l2l3-interaction" class="level1">
<h1>L2–L3 Interaction</h1>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Question 4
</div>
</div>
<div class="callout-body-container callout-body">
<p>According to the <code>anova</code> comparison, is there evidence of an interaction of principal and teacher engagement?</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>Hint (click to see)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Specify <code>engagement_teacher * engagement_principal</code> instead of <code>engagement_teacher + engagement_principal</code> in your model.</p>
</div>
</div>
</div>
</section>
<section id="more-hypotheses" class="level1">
<h1>More Hypotheses?</h1>
<p>Could we specify an L1–L3 interaction? A L1–L2–L3 interaction? A random L1-L2 interaction? Yes, we could. However, we did not hypothesize any of those effects. I would have a hard time coming up with a plausible reason that they should be present. Thus any “test” of those effects should be thought of as exploratory. Even if the results are statistically significant, we should not have the same faith in the findings as we would with tests we planned.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/wjschne\.github\.io");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>