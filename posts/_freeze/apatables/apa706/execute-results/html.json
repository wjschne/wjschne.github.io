{
  "hash": "c1473867d0ca9c657c9c97f90612906c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Recreating APA Manual Table 7.6 in R with apa7\ndate: '2025-09-16'\nengine: knitr\ncategories: \n  - R\n  - APA Style\ndescription: \"Demonstration of the apa7 package, a flextable extension package\"\ntags:\n  - APA Style\n  - flextable\n  - apa7\ncsl: _extensions/wjschne/apaquarto/apa.csl\nformat:\n  html: \n    theme: [minty, \"../../style/schneider.scss\", \"../../style/apablog.scss\"]\n    fig-cap-location: top\n    citeproc: false\n    link-external-icon: false\n    link-external-newwindow: false\n    toc: true\n    toc-location: left\n    anchor-sections: false\n    html-math-method: katex\n    knitr: \n      opts_chunk: \n        dev: svglite\n    # code-annotations: hover\n    filters:  \n      - at: pre-ast\n        path: _extensions/wjschne/apaquarto/crossrefprefix.lua\n      - at: pre-ast\n        path: _extensions/wjschne/apaquarto/apafigtblappendix.lua\n      - at: post-render\n        path: _extensions/wjschne/apaquarto/apacaption.lua\n      - at: post-render\n        path: _extensions/wjschne/apaquarto/apaextractfigure.lua\n      - at: post-render\n        path: _extensions/wjschne/apaquarto/apanote.lua\n      - at: post-render\n        path: _extensions/wjschne/apaquarto/apafloat.lua\n      - at: post-render\n        path: _extensions/wjschne/apaquarto/apafloat.lua\n      - at: post-render\n        path: _extensions/wjschne/apaquarto/citeprocr.lua\n      - at: post-render\n        path: _extensions/wjschne/apaquarto/apaandcite.lua\n---\n\n# Making tables in APA style (Part 6 of 24)\n\nIn this 24-part series, each of the tables in Chapter 7 of the *Publication Manual of the American Psychological Association* (7th Edition) is recreated with [apa7](https://wjschne.github.io/apa7/), [flextable](https://ardata-fr.github.io/flextable-book/), [easystats](https://easystats.github.io/easystats/), and [tidyverse](https://www.tidyverse.org/packages/) functions.\n\n:::{.callout-note}\n# Highlights\n\n* Centering text on a space rather than a decimal with [`align_chr`](https://wjschne.github.io/apa7/reference/align_chr.html)\n* Automatic column formatting with [`apa-format_columns`](https://wjschne.github.io/apa7/reference/apa_format_columns.html)\n\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(apa7)\nlibrary(flextable)\nlibrary(ftExtra)\nlibrary(tidyverse)\nset_flextable_defaults(theme_fun = theme_apa, \n                       font.family = \"Times New Roman\")\n```\n:::\n\n\n\n![Screenshot of the *APA Manual*'s Table 7.6](table76.png){#fig-76 width=\"100%\"}\n\nTo simply enter the data from this table would be a straightforward process. To make things interesting, I am going simulate data from the group means and standard deviations, run a series of t-tests, and display the data. This makes the process much more like what would happen in a real write-up. The means, standard deviations, and *p*-values come from the simulated data, not from @fig-76. \n\nNormally non-significant *p*-values would be rounded to 2 digits, but they were rounded to 3 digits via [`apa_format_columns`](https://wjschne.github.io/apa7/reference/apa_format_columns.html), which also italicized the `p` column. The `apa_format_columns` is invoked by `apa_flextable`, but sometimes we want to take care of some custom formatting ahead of that step.\n\nThe two middle columns are aligned on the space between the group means and standard deviations, via `align_chr(x, center = \" \")`.\n\n\n::: {#tbl-76 .cell tbl-cap='Means and Standard Deviations of Scores on Baseline Measures' apa-note='Standard deviations are presented in parentheses. BAS&nbsp;=&nbsp;Behavioral Activation System; BAS-T&nbsp;=&nbsp;Behavioral Activation System–Total scores from the Behavioral Inhibition System/Behavioral Activation System Scales; SR&nbsp;=&nbsp;Sensitivity to Reward scores from the Sensitivity to Punishment and Sensitivity to Reward Questionnaire; BDI&nbsp;=&nbsp;Beck Depression Inventory scores; ASRM&nbsp;=&nbsp;Altman Self-Rating Mania Scale scores; M-SRM&nbsp;=&nbsp;Modified Social Rhythm Metric Regularity scores.'}\n\n````{.cell-code}\n```{{r}}\n#| label: tbl-76\n#| tbl-cap: Means and Standard Deviations of Scores on Baseline Measures\n#| apa-note: Standard deviations are presented in parentheses. \n#|           BAS&nbsp;=&nbsp;Behavioral Activation System; \n#|           BAS-T&nbsp;=&nbsp;Behavioral Activation System–Total \n#|           scores from the Behavioral Inhibition System/Behavioral \n#|           Activation System Scales; SR&nbsp;=&nbsp;Sensitivity \n#|           to Reward scores from the Sensitivity \n#|           to Punishment and Sensitivity to Reward Questionnaire; \n#|           BDI&nbsp;=&nbsp;Beck Depression Inventory scores; \n#|           ASRM&nbsp;=&nbsp;Altman Self-Rating Mania Scale scores; \n#|           M-SRM&nbsp;=&nbsp;Modified Social Rhythm Metric \n#|           Regularity scores.\nset.seed(12)\n\n# make data\nd <- tibble::tribble(\n   ~Scale,     ~Group,    ~M,  ~SD,\n  \"BAS-T\",     \"High\", 46.17, 2.87,\n     \"SR\",     \"High\", 17.94, 1.88,\n    \"BDI\",     \"High\",  7.11,  6.5,\n   \"ASRM\",     \"High\",  6.46, 4.01,\n  \"M-SRM\",     \"High\", 11.05, 3.36,\n  \"BAS-T\", \"Moderate\", 37.99, 1.32,\n     \"SR\", \"Moderate\", 11.52, 1.84,\n    \"BDI\", \"Moderate\",  6.18, 6.09,\n   \"ASRM\", \"Moderate\",  5.63, 3.69,\n  \"M-SRM\", \"Moderate\", 11.76, 2.75\n  ) |> \n  mutate(x = map2(M, SD, \\(m, s) rnorm(75, mean = m, sd = s))) |>\n  unnest(x) |>\n  nest(data = -Scale)\n\n# Analyze data\nd_analysis <- d |> \n  mutate(\n    descriptives = map(\n      data,\n      \\(d) select(d, Group, x) |>\n        summarise(m = mean(x) , s = sd(x), .by = Group) |>\n        mutate(value = paste0(\n          scales::number(m, accuracy = .01),\n          \" (\",\n          scales::number(s, accuracy = .01),\n          \")\"\n        )) |>\n        select(-c(m, s)) |>\n        mutate(Group = paste0(Group, \" BAS group\")) |> \n        pivot_wider(names_from = Group)\n    ),\n    p = map_dbl(data, \\(d) {\n      t.test(x ~ Group, data = d)$p.value \n    }),\n  ) |>\n  select(-data) |>\n  unnest(descriptives)\n\n# Format data\nd_formatted <- d_analysis |> \n  mutate(across(-c(Scale), \\(x) align_chr(x, center = \" \"))) |> \n  apa_format_columns(accuracy = .001)\n\n# Make table\nd_formatted |> \n  apa_flextable(table_width = 1, \n                layout = \"fixed\", \n                line_spacing = 1.5) |>\n  width(width = rep(6.5 / 4, 4))\n```\n````\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"tabwid tabwid_left\"><style>.cl-6caf7faa{}.cl-6c9c1d3e{font-family:'Times New Roman';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-6c9c1d52{font-family:'Times New Roman';font-size:12pt;font-weight:normal;font-style:italic;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-6caad8c4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:4pt;padding-top:4pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-6caad8c5{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:4pt;padding-top:4pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;}.cl-6caaf782{width:1.625in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6caaf78c{width:1.625in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6caaf78d{width:1.625in;background-color:transparent;vertical-align: top;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6caaf796{width:1.625in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6caaf797{width:1.625in;background-color:transparent;vertical-align: top;border-bottom: 0.5pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-6caf7faa'><thead><tr style=\"overflow-wrap:break-word;\"><th class=\"cl-6caaf782\"><p class=\"cl-6caad8c4\"><span class=\"cl-6c9c1d3e\">Scale</span></p></th><th class=\"cl-6caaf782\"><p class=\"cl-6caad8c4\"><span class=\"cl-6c9c1d3e\">High</span><span class=\"cl-6c9c1d3e\"> </span><span class=\"cl-6c9c1d3e\">BAS</span><span class=\"cl-6c9c1d3e\"> </span><span class=\"cl-6c9c1d3e\">group</span></p></th><th class=\"cl-6caaf782\"><p class=\"cl-6caad8c4\"><span class=\"cl-6c9c1d3e\">Moderate</span><span class=\"cl-6c9c1d3e\"> </span><span class=\"cl-6c9c1d3e\">BAS</span><span class=\"cl-6c9c1d3e\"> </span><span class=\"cl-6c9c1d3e\">group</span></p></th><th class=\"cl-6caaf782\"><p class=\"cl-6caad8c4\"><span class=\"cl-6c9c1d52\">p</span></p></th></tr></thead><tbody><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-6caaf78c\"><p class=\"cl-6caad8c5\"><span class=\"cl-6c9c1d3e\">BAS-T</span></p></td><td class=\"cl-6caaf78d\"><p class=\"cl-6caad8c4\"><span class=\"cl-6c9c1d3e\">46.14</span><span class=\"cl-6c9c1d3e\"> </span><span class=\"cl-6c9c1d3e\">(2.60)</span></p></td><td class=\"cl-6caaf78d\"><p class=\"cl-6caad8c4\"><span class=\"cl-6c9c1d3e\">37.95</span><span class=\"cl-6c9c1d3e\"> </span><span class=\"cl-6c9c1d3e\">(1.22)</span></p></td><td class=\"cl-6caaf78d\"><p class=\"cl-6caad8c4\"><span class=\"cl-6c9c1d3e\">&lt;.001</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-6caaf78c\"><p class=\"cl-6caad8c5\"><span class=\"cl-6c9c1d3e\">SR</span></p></td><td class=\"cl-6caaf78d\"><p class=\"cl-6caad8c4\"><span class=\"cl-6c9c1d3e\">17.93</span><span class=\"cl-6c9c1d3e\"> </span><span class=\"cl-6c9c1d3e\">(1.80)</span></p></td><td class=\"cl-6caaf78d\"><p class=\"cl-6caad8c4\"><span class=\"cl-6c9c1d3e\">11.24</span><span class=\"cl-6c9c1d3e\"> </span><span class=\"cl-6c9c1d3e\">(1.82)</span></p></td><td class=\"cl-6caaf78d\"><p class=\"cl-6caad8c4\"><span class=\"cl-6c9c1d3e\">&lt;.001</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-6caaf78c\"><p class=\"cl-6caad8c5\"><span class=\"cl-6c9c1d3e\">BDI</span></p></td><td class=\"cl-6caaf78d\"><p class=\"cl-6caad8c4\"><span class=\"cl-6c9c1d3e\"> 6.89</span><span class=\"cl-6c9c1d3e\"> </span><span class=\"cl-6c9c1d3e\">(6.48)</span></p></td><td class=\"cl-6caaf78d\"><p class=\"cl-6caad8c4\"><span class=\"cl-6c9c1d3e\"> 5.67</span><span class=\"cl-6c9c1d3e\"> </span><span class=\"cl-6c9c1d3e\">(5.46)</span></p></td><td class=\"cl-6caaf78d\"><p class=\"cl-6caad8c4\"><span class=\"cl-6c9c1d3e\"> .210</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-6caaf78c\"><p class=\"cl-6caad8c5\"><span class=\"cl-6c9c1d3e\">ASRM</span></p></td><td class=\"cl-6caaf78d\"><p class=\"cl-6caad8c4\"><span class=\"cl-6c9c1d3e\"> 6.38</span><span class=\"cl-6c9c1d3e\"> </span><span class=\"cl-6c9c1d3e\">(3.96)</span></p></td><td class=\"cl-6caaf78d\"><p class=\"cl-6caad8c4\"><span class=\"cl-6c9c1d3e\"> 5.30</span><span class=\"cl-6c9c1d3e\"> </span><span class=\"cl-6c9c1d3e\">(3.63)</span></p></td><td class=\"cl-6caaf78d\"><p class=\"cl-6caad8c4\"><span class=\"cl-6c9c1d3e\"> .080</span></p></td></tr><tr style=\"overflow-wrap:break-word;\"><td class=\"cl-6caaf796\"><p class=\"cl-6caad8c5\"><span class=\"cl-6c9c1d3e\">M-SRM</span></p></td><td class=\"cl-6caaf797\"><p class=\"cl-6caad8c4\"><span class=\"cl-6c9c1d3e\">10.92</span><span class=\"cl-6c9c1d3e\"> </span><span class=\"cl-6c9c1d3e\">(3.10)</span></p></td><td class=\"cl-6caaf797\"><p class=\"cl-6caad8c4\"><span class=\"cl-6c9c1d3e\">11.70</span><span class=\"cl-6c9c1d3e\"> </span><span class=\"cl-6c9c1d3e\">(2.76)</span></p></td><td class=\"cl-6caaf797\"><p class=\"cl-6caad8c4\"><span class=\"cl-6c9c1d3e\"> .100</span></p></td></tr></tbody></table></div>\n```\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"apa706_files/libs/tabwid-1.1.3/tabwid.css\" rel=\"stylesheet\" />\n<script src=\"apa706_files/libs/tabwid-1.1.3/tabwid.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}